"use strict";var cc=Object.create;var Ct=Object.defineProperty;var uc=Object.getOwnPropertyDescriptor;var lc=Object.getOwnPropertyNames;var fc=Object.getPrototypeOf,dc=Object.prototype.hasOwnProperty;var _=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),hc=(e,t)=>{for(var r in t)Ct(e,r,{get:t[r],enumerable:!0})},Es=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of lc(t))!dc.call(e,s)&&s!==r&&Ct(e,s,{get:()=>t[s],enumerable:!(n=uc(t,s))||n.enumerable});return e};var Ne=(e,t,r)=>(r=e!=null?cc(fc(e)):{},Es(t||!e||!e.__esModule?Ct(r,"default",{value:e,enumerable:!0}):r,e)),pc=e=>Es(Ct({},"__esModule",{value:!0}),e);var Ys=_(at=>{"use strict";Object.defineProperty(at,"__esModule",{value:!0});at.splitWhen=at.flatten=void 0;function Dc(e){return e.reduce((t,r)=>[].concat(t,r),[])}at.flatten=Dc;function Mc(e,t){let r=[[]],n=0;for(let s of e)t(s)?(n++,r[n]=[]):r[n].push(s);return r}at.splitWhen=Mc});var Zs=_(Ft=>{"use strict";Object.defineProperty(Ft,"__esModule",{value:!0});Ft.isEnoentCodeError=void 0;function Nc(e){return e.code==="ENOENT"}Ft.isEnoentCodeError=Nc});var Qs=_(Ht=>{"use strict";Object.defineProperty(Ht,"__esModule",{value:!0});Ht.createDirentFromStats=void 0;var Lr=class{constructor(t,r){this.name=t,this.isBlockDevice=r.isBlockDevice.bind(r),this.isCharacterDevice=r.isCharacterDevice.bind(r),this.isDirectory=r.isDirectory.bind(r),this.isFIFO=r.isFIFO.bind(r),this.isFile=r.isFile.bind(r),this.isSocket=r.isSocket.bind(r),this.isSymbolicLink=r.isSymbolicLink.bind(r)}};function Uc(e,t){return new Lr(e,t)}Ht.createDirentFromStats=Uc});var ti=_(z=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});z.convertPosixPathToPattern=z.convertWindowsPathToPattern=z.convertPathToPattern=z.escapePosixPath=z.escapeWindowsPath=z.escape=z.removeLeadingDotSegment=z.makeAbsolute=z.unixify=void 0;var Fc=require("os"),Hc=require("path"),Xs=Fc.platform()==="win32",Bc=2,Wc=/(\\?)([()*?[\]{|}]|^!|[!+@](?=\()|\\(?![!()*+?@[\]{|}]))/g,qc=/(\\?)([()[\]{}]|^!|[!+@](?=\())/g,Vc=/^\\\\([.?])/,jc=/\\(?![!()+@[\]{}])/g;function Gc(e){return e.replace(/\\/g,"/")}z.unixify=Gc;function zc(e,t){return Hc.resolve(e,t)}z.makeAbsolute=zc;function Kc(e){if(e.charAt(0)==="."){let t=e.charAt(1);if(t==="/"||t==="\\")return e.slice(Bc)}return e}z.removeLeadingDotSegment=Kc;z.escape=Xs?Dr:Mr;function Dr(e){return e.replace(qc,"\\$2")}z.escapeWindowsPath=Dr;function Mr(e){return e.replace(Wc,"\\$2")}z.escapePosixPath=Mr;z.convertPathToPattern=Xs?Js:ei;function Js(e){return Dr(e).replace(Vc,"//$1").replace(jc,"/")}z.convertWindowsPathToPattern=Js;function ei(e){return Mr(e)}z.convertPosixPathToPattern=ei});var ni=_((hh,ri)=>{ri.exports=function(t){if(typeof t!="string"||t==="")return!1;for(var r;r=/(\\).|([@?!+*]\(.*\))/g.exec(t);){if(r[2])return!0;t=t.slice(r.index+r[0].length)}return!1}});var ai=_((ph,ii)=>{var Yc=ni(),si={"{":"}","(":")","[":"]"},Zc=function(e){if(e[0]==="!")return!0;for(var t=0,r=-2,n=-2,s=-2,a=-2,i=-2;t<e.length;){if(e[t]==="*"||e[t+1]==="?"&&/[\].+)]/.test(e[t])||n!==-1&&e[t]==="["&&e[t+1]!=="]"&&(n<t&&(n=e.indexOf("]",t)),n>t&&(i===-1||i>n||(i=e.indexOf("\\",t),i===-1||i>n)))||s!==-1&&e[t]==="{"&&e[t+1]!=="}"&&(s=e.indexOf("}",t),s>t&&(i=e.indexOf("\\",t),i===-1||i>s))||a!==-1&&e[t]==="("&&e[t+1]==="?"&&/[:!=]/.test(e[t+2])&&e[t+3]!==")"&&(a=e.indexOf(")",t),a>t&&(i=e.indexOf("\\",t),i===-1||i>a))||r!==-1&&e[t]==="("&&e[t+1]!=="|"&&(r<t&&(r=e.indexOf("|",t)),r!==-1&&e[r+1]!==")"&&(a=e.indexOf(")",r),a>r&&(i=e.indexOf("\\",r),i===-1||i>a))))return!0;if(e[t]==="\\"){var o=e[t+1];t+=2;var c=si[o];if(c){var f=e.indexOf(c,t);f!==-1&&(t=f+1)}if(e[t]==="!")return!0}else t++}return!1},Qc=function(e){if(e[0]==="!")return!0;for(var t=0;t<e.length;){if(/[*?{}()[\]]/.test(e[t]))return!0;if(e[t]==="\\"){var r=e[t+1];t+=2;var n=si[r];if(n){var s=e.indexOf(n,t);s!==-1&&(t=s+1)}if(e[t]==="!")return!0}else t++}return!1};ii.exports=function(t,r){if(typeof t!="string"||t==="")return!1;if(Yc(t))return!0;var n=Zc;return r&&r.strict===!1&&(n=Qc),n(t)}});var ci=_((mh,oi)=>{"use strict";var Xc=ai(),Jc=require("path").posix.dirname,eu=require("os").platform()==="win32",Nr="/",tu=/\\/g,ru=/[\{\[].*[\}\]]$/,nu=/(^|[^\\])([\{\[]|\([^\)]+$)/,su=/\\([\!\*\?\|\[\]\(\)\{\}])/g;oi.exports=function(t,r){var n=Object.assign({flipBackslashes:!0},r);n.flipBackslashes&&eu&&t.indexOf(Nr)<0&&(t=t.replace(tu,Nr)),ru.test(t)&&(t+=Nr),t+="a";do t=Jc(t);while(Xc(t)||nu.test(t));return t.replace(su,"$1")}});var Bt=_(_e=>{"use strict";_e.isInteger=e=>typeof e=="number"?Number.isInteger(e):typeof e=="string"&&e.trim()!==""?Number.isInteger(Number(e)):!1;_e.find=(e,t)=>e.nodes.find(r=>r.type===t);_e.exceedsLimit=(e,t,r=1,n)=>n===!1||!_e.isInteger(e)||!_e.isInteger(t)?!1:(Number(t)-Number(e))/Number(r)>=n;_e.escapeNode=(e,t=0,r)=>{let n=e.nodes[t];n&&(r&&n.type===r||n.type==="open"||n.type==="close")&&n.escaped!==!0&&(n.value="\\"+n.value,n.escaped=!0)};_e.encloseBrace=e=>e.type!=="brace"?!1:e.commas>>0+e.ranges>>0===0?(e.invalid=!0,!0):!1;_e.isInvalidBrace=e=>e.type!=="brace"?!1:e.invalid===!0||e.dollar?!0:e.commas>>0+e.ranges>>0===0||e.open!==!0||e.close!==!0?(e.invalid=!0,!0):!1;_e.isOpenOrClose=e=>e.type==="open"||e.type==="close"?!0:e.open===!0||e.close===!0;_e.reduce=e=>e.reduce((t,r)=>(r.type==="text"&&t.push(r.value),r.type==="range"&&(r.type="text"),t),[]);_e.flatten=(...e)=>{let t=[],r=n=>{for(let s=0;s<n.length;s++){let a=n[s];if(Array.isArray(a)){r(a);continue}a!==void 0&&t.push(a)}return t};return r(e),t}});var Wt=_((yh,li)=>{"use strict";var ui=Bt();li.exports=(e,t={})=>{let r=(n,s={})=>{let a=t.escapeInvalid&&ui.isInvalidBrace(s),i=n.invalid===!0&&t.escapeInvalid===!0,o="";if(n.value)return(a||i)&&ui.isOpenOrClose(n)?"\\"+n.value:n.value;if(n.value)return n.value;if(n.nodes)for(let c of n.nodes)o+=r(c);return o};return r(e)}});var di=_((bh,fi)=>{"use strict";fi.exports=function(e){return typeof e=="number"?e-e===0:typeof e=="string"&&e.trim()!==""?Number.isFinite?Number.isFinite(+e):isFinite(+e):!1}});var wi=_((_h,Si)=>{"use strict";var hi=di(),Ke=(e,t,r)=>{if(hi(e)===!1)throw new TypeError("toRegexRange: expected the first argument to be a number");if(t===void 0||e===t)return String(e);if(hi(t)===!1)throw new TypeError("toRegexRange: expected the second argument to be a number.");let n={relaxZeros:!0,...r};typeof n.strictZeros=="boolean"&&(n.relaxZeros=n.strictZeros===!1);let s=String(n.relaxZeros),a=String(n.shorthand),i=String(n.capture),o=String(n.wrap),c=e+":"+t+"="+s+a+i+o;if(Ke.cache.hasOwnProperty(c))return Ke.cache[c].result;let f=Math.min(e,t),u=Math.max(e,t);if(Math.abs(f-u)===1){let g=e+"|"+t;return n.capture?`(${g})`:n.wrap===!1?g:`(?:${g})`}let p=_i(e)||_i(t),l={min:e,max:t,a:f,b:u},E=[],y=[];if(p&&(l.isPadded=p,l.maxLen=String(l.max).length),f<0){let g=u<0?Math.abs(u):1;y=pi(g,Math.abs(f),l,n),f=l.a=0}return u>=0&&(E=pi(f,u,l,n)),l.negatives=y,l.positives=E,l.result=iu(y,E,n),n.capture===!0?l.result=`(${l.result})`:n.wrap!==!1&&E.length+y.length>1&&(l.result=`(?:${l.result})`),Ke.cache[c]=l,l.result};function iu(e,t,r){let n=Ur(e,t,"-",!1,r)||[],s=Ur(t,e,"",!1,r)||[],a=Ur(e,t,"-?",!0,r)||[];return n.concat(a).concat(s).join("|")}function au(e,t){let r=1,n=1,s=gi(e,r),a=new Set([t]);for(;e<=s&&s<=t;)a.add(s),r+=1,s=gi(e,r);for(s=yi(t+1,n)-1;e<s&&s<=t;)a.add(s),n+=1,s=yi(t+1,n)-1;return a=[...a],a.sort(uu),a}function ou(e,t,r){if(e===t)return{pattern:e,count:[],digits:0};let n=cu(e,t),s=n.length,a="",i=0;for(let o=0;o<s;o++){let[c,f]=n[o];c===f?a+=c:c!=="0"||f!=="9"?a+=lu(c,f,r):i++}return i&&(a+=r.shorthand===!0?"\\d":"[0-9]"),{pattern:a,count:[i],digits:s}}function pi(e,t,r,n){let s=au(e,t),a=[],i=e,o;for(let c=0;c<s.length;c++){let f=s[c],u=ou(String(i),String(f),n),p="";if(!r.isPadded&&o&&o.pattern===u.pattern){o.count.length>1&&o.count.pop(),o.count.push(u.count[0]),o.string=o.pattern+bi(o.count),i=f+1;continue}r.isPadded&&(p=fu(f,r,n)),u.string=p+u.pattern+bi(u.count),a.push(u),i=f+1,o=u}return a}function Ur(e,t,r,n,s){let a=[];for(let i of e){let{string:o}=i;!n&&!mi(t,"string",o)&&a.push(r+o),n&&mi(t,"string",o)&&a.push(r+o)}return a}function cu(e,t){let r=[];for(let n=0;n<e.length;n++)r.push([e[n],t[n]]);return r}function uu(e,t){return e>t?1:t>e?-1:0}function mi(e,t,r){return e.some(n=>n[t]===r)}function gi(e,t){return Number(String(e).slice(0,-t)+"9".repeat(t))}function yi(e,t){return e-e%Math.pow(10,t)}function bi(e){let[t=0,r=""]=e;return r||t>1?`{${t+(r?","+r:"")}}`:""}function lu(e,t,r){return`[${e}${t-e===1?"":"-"}${t}]`}function _i(e){return/^-?(0+)\d/.test(e)}function fu(e,t,r){if(!t.isPadded)return e;let n=Math.abs(t.maxLen-String(e).length),s=r.relaxZeros!==!1;switch(n){case 0:return"";case 1:return s?"0?":"0";case 2:return s?"0{0,2}":"00";default:return s?`0{0,${n}}`:`0{${n}}`}}Ke.cache={};Ke.clearCache=()=>Ke.cache={};Si.exports=Ke});var Br=_((Sh,Ri)=>{"use strict";var du=require("util"),Ei=wi(),$i=e=>e!==null&&typeof e=="object"&&!Array.isArray(e),hu=e=>t=>e===!0?Number(t):String(t),Fr=e=>typeof e=="number"||typeof e=="string"&&e!=="",St=e=>Number.isInteger(+e),Hr=e=>{let t=`${e}`,r=-1;if(t[0]==="-"&&(t=t.slice(1)),t==="0")return!1;for(;t[++r]==="0";);return r>0},pu=(e,t,r)=>typeof e=="string"||typeof t=="string"?!0:r.stringify===!0,mu=(e,t,r)=>{if(t>0){let n=e[0]==="-"?"-":"";n&&(e=e.slice(1)),e=n+e.padStart(n?t-1:t,"0")}return r===!1?String(e):e},Vt=(e,t)=>{let r=e[0]==="-"?"-":"";for(r&&(e=e.slice(1),t--);e.length<t;)e="0"+e;return r?"-"+e:e},gu=(e,t,r)=>{e.negatives.sort((o,c)=>o<c?-1:o>c?1:0),e.positives.sort((o,c)=>o<c?-1:o>c?1:0);let n=t.capture?"":"?:",s="",a="",i;return e.positives.length&&(s=e.positives.map(o=>Vt(String(o),r)).join("|")),e.negatives.length&&(a=`-(${n}${e.negatives.map(o=>Vt(String(o),r)).join("|")})`),s&&a?i=`${s}|${a}`:i=s||a,t.wrap?`(${n}${i})`:i},Ai=(e,t,r,n)=>{if(r)return Ei(e,t,{wrap:!1,...n});let s=String.fromCharCode(e);if(e===t)return s;let a=String.fromCharCode(t);return`[${s}-${a}]`},vi=(e,t,r)=>{if(Array.isArray(e)){let n=r.wrap===!0,s=r.capture?"":"?:";return n?`(${s}${e.join("|")})`:e.join("|")}return Ei(e,t,r)},xi=(...e)=>new RangeError("Invalid range arguments: "+du.inspect(...e)),ki=(e,t,r)=>{if(r.strictRanges===!0)throw xi([e,t]);return[]},yu=(e,t)=>{if(t.strictRanges===!0)throw new TypeError(`Expected step "${e}" to be a number`);return[]},bu=(e,t,r=1,n={})=>{let s=Number(e),a=Number(t);if(!Number.isInteger(s)||!Number.isInteger(a)){if(n.strictRanges===!0)throw xi([e,t]);return[]}s===0&&(s=0),a===0&&(a=0);let i=s>a,o=String(e),c=String(t),f=String(r);r=Math.max(Math.abs(r),1);let u=Hr(o)||Hr(c)||Hr(f),p=u?Math.max(o.length,c.length,f.length):0,l=u===!1&&pu(e,t,n)===!1,E=n.transform||hu(l);if(n.toRegex&&r===1)return Ai(Vt(e,p),Vt(t,p),!0,n);let y={negatives:[],positives:[]},g=q=>y[q<0?"negatives":"positives"].push(Math.abs(q)),w=[],R=0;for(;i?s>=a:s<=a;)n.toRegex===!0&&r>1?g(s):w.push(mu(E(s,R),p,l)),s=i?s-r:s+r,R++;return n.toRegex===!0?r>1?gu(y,n,p):vi(w,null,{wrap:!1,...n}):w},_u=(e,t,r=1,n={})=>{if(!St(e)&&e.length>1||!St(t)&&t.length>1)return ki(e,t,n);let s=n.transform||(l=>String.fromCharCode(l)),a=`${e}`.charCodeAt(0),i=`${t}`.charCodeAt(0),o=a>i,c=Math.min(a,i),f=Math.max(a,i);if(n.toRegex&&r===1)return Ai(c,f,!1,n);let u=[],p=0;for(;o?a>=i:a<=i;)u.push(s(a,p)),a=o?a-r:a+r,p++;return n.toRegex===!0?vi(u,null,{wrap:!1,options:n}):u},qt=(e,t,r,n={})=>{if(t==null&&Fr(e))return[e];if(!Fr(e)||!Fr(t))return ki(e,t,n);if(typeof r=="function")return qt(e,t,1,{transform:r});if($i(r))return qt(e,t,0,r);let s={...n};return s.capture===!0&&(s.wrap=!0),r=r||s.step||1,St(r)?St(e)&&St(t)?bu(e,t,r,s):_u(e,t,Math.max(Math.abs(r),1),s):r!=null&&!$i(r)?yu(r,s):qt(e,t,1,r)};Ri.exports=qt});var Ti=_((wh,Ci)=>{"use strict";var Su=Br(),Pi=Bt(),wu=(e,t={})=>{let r=(n,s={})=>{let a=Pi.isInvalidBrace(s),i=n.invalid===!0&&t.escapeInvalid===!0,o=a===!0||i===!0,c=t.escapeInvalid===!0?"\\":"",f="";if(n.isOpen===!0)return c+n.value;if(n.isClose===!0)return console.log("node.isClose",c,n.value),c+n.value;if(n.type==="open")return o?c+n.value:"(";if(n.type==="close")return o?c+n.value:")";if(n.type==="comma")return n.prev.type==="comma"?"":o?n.value:"|";if(n.value)return n.value;if(n.nodes&&n.ranges>0){let u=Pi.reduce(n.nodes),p=Su(...u,{...t,wrap:!1,toRegex:!0,strictZeros:!0});if(p.length!==0)return u.length>1&&p.length>1?`(${p})`:p}if(n.nodes)for(let u of n.nodes)f+=r(u,n);return f};return r(e)};Ci.exports=wu});var Li=_(($h,Ii)=>{"use strict";var $u=Br(),Oi=Wt(),ot=Bt(),Ye=(e="",t="",r=!1)=>{let n=[];if(e=[].concat(e),t=[].concat(t),!t.length)return e;if(!e.length)return r?ot.flatten(t).map(s=>`{${s}}`):t;for(let s of e)if(Array.isArray(s))for(let a of s)n.push(Ye(a,t,r));else for(let a of t)r===!0&&typeof a=="string"&&(a=`{${a}}`),n.push(Array.isArray(a)?Ye(s,a,r):s+a);return ot.flatten(n)},Eu=(e,t={})=>{let r=t.rangeLimit===void 0?1e3:t.rangeLimit,n=(s,a={})=>{s.queue=[];let i=a,o=a.queue;for(;i.type!=="brace"&&i.type!=="root"&&i.parent;)i=i.parent,o=i.queue;if(s.invalid||s.dollar){o.push(Ye(o.pop(),Oi(s,t)));return}if(s.type==="brace"&&s.invalid!==!0&&s.nodes.length===2){o.push(Ye(o.pop(),["{}"]));return}if(s.nodes&&s.ranges>0){let p=ot.reduce(s.nodes);if(ot.exceedsLimit(...p,t.step,r))throw new RangeError("expanded array length exceeds range limit. Use options.rangeLimit to increase or disable the limit.");let l=$u(...p,t);l.length===0&&(l=Oi(s,t)),o.push(Ye(o.pop(),l)),s.nodes=[];return}let c=ot.encloseBrace(s),f=s.queue,u=s;for(;u.type!=="brace"&&u.type!=="root"&&u.parent;)u=u.parent,f=u.queue;for(let p=0;p<s.nodes.length;p++){let l=s.nodes[p];if(l.type==="comma"&&s.type==="brace"){p===1&&f.push(""),f.push("");continue}if(l.type==="close"){o.push(Ye(o.pop(),f,c));continue}if(l.value&&l.type!=="open"){f.push(Ye(f.pop(),l.value));continue}l.nodes&&n(l,s)}return f};return ot.flatten(n(e))};Ii.exports=Eu});var Mi=_((Eh,Di)=>{"use strict";Di.exports={MAX_LENGTH:1e4,CHAR_0:"0",CHAR_9:"9",CHAR_UPPERCASE_A:"A",CHAR_LOWERCASE_A:"a",CHAR_UPPERCASE_Z:"Z",CHAR_LOWERCASE_Z:"z",CHAR_LEFT_PARENTHESES:"(",CHAR_RIGHT_PARENTHESES:")",CHAR_ASTERISK:"*",CHAR_AMPERSAND:"&",CHAR_AT:"@",CHAR_BACKSLASH:"\\",CHAR_BACKTICK:"`",CHAR_CARRIAGE_RETURN:"\r",CHAR_CIRCUMFLEX_ACCENT:"^",CHAR_COLON:":",CHAR_COMMA:",",CHAR_DOLLAR:"$",CHAR_DOT:".",CHAR_DOUBLE_QUOTE:'"',CHAR_EQUAL:"=",CHAR_EXCLAMATION_MARK:"!",CHAR_FORM_FEED:"\f",CHAR_FORWARD_SLASH:"/",CHAR_HASH:"#",CHAR_HYPHEN_MINUS:"-",CHAR_LEFT_ANGLE_BRACKET:"<",CHAR_LEFT_CURLY_BRACE:"{",CHAR_LEFT_SQUARE_BRACKET:"[",CHAR_LINE_FEED:`
`,CHAR_NO_BREAK_SPACE:"\xA0",CHAR_PERCENT:"%",CHAR_PLUS:"+",CHAR_QUESTION_MARK:"?",CHAR_RIGHT_ANGLE_BRACKET:">",CHAR_RIGHT_CURLY_BRACE:"}",CHAR_RIGHT_SQUARE_BRACKET:"]",CHAR_SEMICOLON:";",CHAR_SINGLE_QUOTE:"'",CHAR_SPACE:" ",CHAR_TAB:"	",CHAR_UNDERSCORE:"_",CHAR_VERTICAL_LINE:"|",CHAR_ZERO_WIDTH_NOBREAK_SPACE:"\uFEFF"}});var Bi=_((Ah,Hi)=>{"use strict";var Au=Wt(),{MAX_LENGTH:Ni,CHAR_BACKSLASH:Wr,CHAR_BACKTICK:vu,CHAR_COMMA:xu,CHAR_DOT:ku,CHAR_LEFT_PARENTHESES:Ru,CHAR_RIGHT_PARENTHESES:Pu,CHAR_LEFT_CURLY_BRACE:Cu,CHAR_RIGHT_CURLY_BRACE:Tu,CHAR_LEFT_SQUARE_BRACKET:Ui,CHAR_RIGHT_SQUARE_BRACKET:Fi,CHAR_DOUBLE_QUOTE:Ou,CHAR_SINGLE_QUOTE:Iu,CHAR_NO_BREAK_SPACE:Lu,CHAR_ZERO_WIDTH_NOBREAK_SPACE:Du}=Mi(),Mu=(e,t={})=>{if(typeof e!="string")throw new TypeError("Expected a string");let r=t||{},n=typeof r.maxLength=="number"?Math.min(Ni,r.maxLength):Ni;if(e.length>n)throw new SyntaxError(`Input length (${e.length}), exceeds max characters (${n})`);let s={type:"root",input:e,nodes:[]},a=[s],i=s,o=s,c=0,f=e.length,u=0,p=0,l,E=()=>e[u++],y=g=>{if(g.type==="text"&&o.type==="dot"&&(o.type="text"),o&&o.type==="text"&&g.type==="text"){o.value+=g.value;return}return i.nodes.push(g),g.parent=i,g.prev=o,o=g,g};for(y({type:"bos"});u<f;)if(i=a[a.length-1],l=E(),!(l===Du||l===Lu)){if(l===Wr){y({type:"text",value:(t.keepEscaping?l:"")+E()});continue}if(l===Fi){y({type:"text",value:"\\"+l});continue}if(l===Ui){c++;let g;for(;u<f&&(g=E());){if(l+=g,g===Ui){c++;continue}if(g===Wr){l+=E();continue}if(g===Fi&&(c--,c===0))break}y({type:"text",value:l});continue}if(l===Ru){i=y({type:"paren",nodes:[]}),a.push(i),y({type:"text",value:l});continue}if(l===Pu){if(i.type!=="paren"){y({type:"text",value:l});continue}i=a.pop(),y({type:"text",value:l}),i=a[a.length-1];continue}if(l===Ou||l===Iu||l===vu){let g=l,w;for(t.keepQuotes!==!0&&(l="");u<f&&(w=E());){if(w===Wr){l+=w+E();continue}if(w===g){t.keepQuotes===!0&&(l+=w);break}l+=w}y({type:"text",value:l});continue}if(l===Cu){p++;let w={type:"brace",open:!0,close:!1,dollar:o.value&&o.value.slice(-1)==="$"||i.dollar===!0,depth:p,commas:0,ranges:0,nodes:[]};i=y(w),a.push(i),y({type:"open",value:l});continue}if(l===Tu){if(i.type!=="brace"){y({type:"text",value:l});continue}let g="close";i=a.pop(),i.close=!0,y({type:g,value:l}),p--,i=a[a.length-1];continue}if(l===xu&&p>0){if(i.ranges>0){i.ranges=0;let g=i.nodes.shift();i.nodes=[g,{type:"text",value:Au(i)}]}y({type:"comma",value:l}),i.commas++;continue}if(l===ku&&p>0&&i.commas===0){let g=i.nodes;if(p===0||g.length===0){y({type:"text",value:l});continue}if(o.type==="dot"){if(i.range=[],o.value+=l,o.type="range",i.nodes.length!==3&&i.nodes.length!==5){i.invalid=!0,i.ranges=0,o.type="text";continue}i.ranges++,i.args=[];continue}if(o.type==="range"){g.pop();let w=g[g.length-1];w.value+=o.value+l,o=w,i.ranges--;continue}y({type:"dot",value:l});continue}y({type:"text",value:l})}do if(i=a.pop(),i.type!=="root"){i.nodes.forEach(R=>{R.nodes||(R.type==="open"&&(R.isOpen=!0),R.type==="close"&&(R.isClose=!0),R.nodes||(R.type="text"),R.invalid=!0)});let g=a[a.length-1],w=g.nodes.indexOf(i);g.nodes.splice(w,1,...i.nodes)}while(a.length>0);return y({type:"eos"}),s};Hi.exports=Mu});var Vi=_((vh,qi)=>{"use strict";var Wi=Wt(),Nu=Ti(),Uu=Li(),Fu=Bi(),he=(e,t={})=>{let r=[];if(Array.isArray(e))for(let n of e){let s=he.create(n,t);Array.isArray(s)?r.push(...s):r.push(s)}else r=[].concat(he.create(e,t));return t&&t.expand===!0&&t.nodupes===!0&&(r=[...new Set(r)]),r};he.parse=(e,t={})=>Fu(e,t);he.stringify=(e,t={})=>Wi(typeof e=="string"?he.parse(e,t):e,t);he.compile=(e,t={})=>(typeof e=="string"&&(e=he.parse(e,t)),Nu(e,t));he.expand=(e,t={})=>{typeof e=="string"&&(e=he.parse(e,t));let r=Uu(e,t);return t.noempty===!0&&(r=r.filter(Boolean)),t.nodupes===!0&&(r=[...new Set(r)]),r};he.create=(e,t={})=>e===""||e.length<3?[e]:t.expand!==!0?he.compile(e,t):he.expand(e,t);qi.exports=he});var wt=_((xh,Yi)=>{"use strict";var Hu=require("path"),ke="\\\\/",ji=`[^${ke}]`,Le="\\.",Bu="\\+",Wu="\\?",jt="\\/",qu="(?=.)",Gi="[^/]",qr=`(?:${jt}|$)`,zi=`(?:^|${jt})`,Vr=`${Le}{1,2}${qr}`,Vu=`(?!${Le})`,ju=`(?!${zi}${Vr})`,Gu=`(?!${Le}{0,1}${qr})`,zu=`(?!${Vr})`,Ku=`[^.${jt}]`,Yu=`${Gi}*?`,Ki={DOT_LITERAL:Le,PLUS_LITERAL:Bu,QMARK_LITERAL:Wu,SLASH_LITERAL:jt,ONE_CHAR:qu,QMARK:Gi,END_ANCHOR:qr,DOTS_SLASH:Vr,NO_DOT:Vu,NO_DOTS:ju,NO_DOT_SLASH:Gu,NO_DOTS_SLASH:zu,QMARK_NO_DOT:Ku,STAR:Yu,START_ANCHOR:zi},Zu={...Ki,SLASH_LITERAL:`[${ke}]`,QMARK:ji,STAR:`${ji}*?`,DOTS_SLASH:`${Le}{1,2}(?:[${ke}]|$)`,NO_DOT:`(?!${Le})`,NO_DOTS:`(?!(?:^|[${ke}])${Le}{1,2}(?:[${ke}]|$))`,NO_DOT_SLASH:`(?!${Le}{0,1}(?:[${ke}]|$))`,NO_DOTS_SLASH:`(?!${Le}{1,2}(?:[${ke}]|$))`,QMARK_NO_DOT:`[^.${ke}]`,START_ANCHOR:`(?:^|[${ke}])`,END_ANCHOR:`(?:[${ke}]|$)`},Qu={alnum:"a-zA-Z0-9",alpha:"a-zA-Z",ascii:"\\x00-\\x7F",blank:" \\t",cntrl:"\\x00-\\x1F\\x7F",digit:"0-9",graph:"\\x21-\\x7E",lower:"a-z",print:"\\x20-\\x7E ",punct:"\\-!\"#$%&'()\\*+,./:;<=>?@[\\]^_`{|}~",space:" \\t\\r\\n\\v\\f",upper:"A-Z",word:"A-Za-z0-9_",xdigit:"A-Fa-f0-9"};Yi.exports={MAX_LENGTH:1024*64,POSIX_REGEX_SOURCE:Qu,REGEX_BACKSLASH:/\\(?![*+?^${}(|)[\]])/g,REGEX_NON_SPECIAL_CHARS:/^[^@![\].,$*+?^{}()|\\/]+/,REGEX_SPECIAL_CHARS:/[-*+?.^${}(|)[\]]/,REGEX_SPECIAL_CHARS_BACKREF:/(\\?)((\W)(\3*))/g,REGEX_SPECIAL_CHARS_GLOBAL:/([-*+?.^${}(|)[\]])/g,REGEX_REMOVE_BACKSLASH:/(?:\[.*?[^\\]\]|\\(?=.))/g,REPLACEMENTS:{"***":"*","**/**":"**","**/**/**":"**"},CHAR_0:48,CHAR_9:57,CHAR_UPPERCASE_A:65,CHAR_LOWERCASE_A:97,CHAR_UPPERCASE_Z:90,CHAR_LOWERCASE_Z:122,CHAR_LEFT_PARENTHESES:40,CHAR_RIGHT_PARENTHESES:41,CHAR_ASTERISK:42,CHAR_AMPERSAND:38,CHAR_AT:64,CHAR_BACKWARD_SLASH:92,CHAR_CARRIAGE_RETURN:13,CHAR_CIRCUMFLEX_ACCENT:94,CHAR_COLON:58,CHAR_COMMA:44,CHAR_DOT:46,CHAR_DOUBLE_QUOTE:34,CHAR_EQUAL:61,CHAR_EXCLAMATION_MARK:33,CHAR_FORM_FEED:12,CHAR_FORWARD_SLASH:47,CHAR_GRAVE_ACCENT:96,CHAR_HASH:35,CHAR_HYPHEN_MINUS:45,CHAR_LEFT_ANGLE_BRACKET:60,CHAR_LEFT_CURLY_BRACE:123,CHAR_LEFT_SQUARE_BRACKET:91,CHAR_LINE_FEED:10,CHAR_NO_BREAK_SPACE:160,CHAR_PERCENT:37,CHAR_PLUS:43,CHAR_QUESTION_MARK:63,CHAR_RIGHT_ANGLE_BRACKET:62,CHAR_RIGHT_CURLY_BRACE:125,CHAR_RIGHT_SQUARE_BRACKET:93,CHAR_SEMICOLON:59,CHAR_SINGLE_QUOTE:39,CHAR_SPACE:32,CHAR_TAB:9,CHAR_UNDERSCORE:95,CHAR_VERTICAL_LINE:124,CHAR_ZERO_WIDTH_NOBREAK_SPACE:65279,SEP:Hu.sep,extglobChars(e){return{"!":{type:"negate",open:"(?:(?!(?:",close:`))${e.STAR})`},"?":{type:"qmark",open:"(?:",close:")?"},"+":{type:"plus",open:"(?:",close:")+"},"*":{type:"star",open:"(?:",close:")*"},"@":{type:"at",open:"(?:",close:")"}}},globChars(e){return e===!0?Zu:Ki}}});var $t=_(oe=>{"use strict";var Xu=require("path"),Ju=process.platform==="win32",{REGEX_BACKSLASH:el,REGEX_REMOVE_BACKSLASH:tl,REGEX_SPECIAL_CHARS:rl,REGEX_SPECIAL_CHARS_GLOBAL:nl}=wt();oe.isObject=e=>e!==null&&typeof e=="object"&&!Array.isArray(e);oe.hasRegexChars=e=>rl.test(e);oe.isRegexChar=e=>e.length===1&&oe.hasRegexChars(e);oe.escapeRegex=e=>e.replace(nl,"\\$1");oe.toPosixSlashes=e=>e.replace(el,"/");oe.removeBackslashes=e=>e.replace(tl,t=>t==="\\"?"":t);oe.supportsLookbehinds=()=>{let e=process.version.slice(1).split(".").map(Number);return e.length===3&&e[0]>=9||e[0]===8&&e[1]>=10};oe.isWindows=e=>e&&typeof e.windows=="boolean"?e.windows:Ju===!0||Xu.sep==="\\";oe.escapeLast=(e,t,r)=>{let n=e.lastIndexOf(t,r);return n===-1?e:e[n-1]==="\\"?oe.escapeLast(e,t,n-1):`${e.slice(0,n)}\\${e.slice(n)}`};oe.removePrefix=(e,t={})=>{let r=e;return r.startsWith("./")&&(r=r.slice(2),t.prefix="./"),r};oe.wrapOutput=(e,t={},r={})=>{let n=r.contains?"":"^",s=r.contains?"":"$",a=`${n}(?:${e})${s}`;return t.negated===!0&&(a=`(?:^(?!${a}).*$)`),a}});var na=_((Rh,ra)=>{"use strict";var Zi=$t(),{CHAR_ASTERISK:jr,CHAR_AT:sl,CHAR_BACKWARD_SLASH:Et,CHAR_COMMA:il,CHAR_DOT:Gr,CHAR_EXCLAMATION_MARK:zr,CHAR_FORWARD_SLASH:ta,CHAR_LEFT_CURLY_BRACE:Kr,CHAR_LEFT_PARENTHESES:Yr,CHAR_LEFT_SQUARE_BRACKET:al,CHAR_PLUS:ol,CHAR_QUESTION_MARK:Qi,CHAR_RIGHT_CURLY_BRACE:cl,CHAR_RIGHT_PARENTHESES:Xi,CHAR_RIGHT_SQUARE_BRACKET:ul}=wt(),Ji=e=>e===ta||e===Et,ea=e=>{e.isPrefix!==!0&&(e.depth=e.isGlobstar?1/0:1)},ll=(e,t)=>{let r=t||{},n=e.length-1,s=r.parts===!0||r.scanToEnd===!0,a=[],i=[],o=[],c=e,f=-1,u=0,p=0,l=!1,E=!1,y=!1,g=!1,w=!1,R=!1,q=!1,k=!1,C=!1,v=!1,N=0,x,$,D={value:"",depth:0,isGlob:!1},j=()=>f>=n,m=()=>c.charCodeAt(f+1),P=()=>(x=$,c.charCodeAt(++f));for(;f<n;){$=P();let Y;if($===Et){q=D.backslashes=!0,$=P(),$===Kr&&(R=!0);continue}if(R===!0||$===Kr){for(N++;j()!==!0&&($=P());){if($===Et){q=D.backslashes=!0,P();continue}if($===Kr){N++;continue}if(R!==!0&&$===Gr&&($=P())===Gr){if(l=D.isBrace=!0,y=D.isGlob=!0,v=!0,s===!0)continue;break}if(R!==!0&&$===il){if(l=D.isBrace=!0,y=D.isGlob=!0,v=!0,s===!0)continue;break}if($===cl&&(N--,N===0)){R=!1,l=D.isBrace=!0,v=!0;break}}if(s===!0)continue;break}if($===ta){if(a.push(f),i.push(D),D={value:"",depth:0,isGlob:!1},v===!0)continue;if(x===Gr&&f===u+1){u+=2;continue}p=f+1;continue}if(r.noext!==!0&&($===ol||$===sl||$===jr||$===Qi||$===zr)===!0&&m()===Yr){if(y=D.isGlob=!0,g=D.isExtglob=!0,v=!0,$===zr&&f===u&&(C=!0),s===!0){for(;j()!==!0&&($=P());){if($===Et){q=D.backslashes=!0,$=P();continue}if($===Xi){y=D.isGlob=!0,v=!0;break}}continue}break}if($===jr){if(x===jr&&(w=D.isGlobstar=!0),y=D.isGlob=!0,v=!0,s===!0)continue;break}if($===Qi){if(y=D.isGlob=!0,v=!0,s===!0)continue;break}if($===al){for(;j()!==!0&&(Y=P());){if(Y===Et){q=D.backslashes=!0,P();continue}if(Y===ul){E=D.isBracket=!0,y=D.isGlob=!0,v=!0;break}}if(s===!0)continue;break}if(r.nonegate!==!0&&$===zr&&f===u){k=D.negated=!0,u++;continue}if(r.noparen!==!0&&$===Yr){if(y=D.isGlob=!0,s===!0){for(;j()!==!0&&($=P());){if($===Yr){q=D.backslashes=!0,$=P();continue}if($===Xi){v=!0;break}}continue}break}if(y===!0){if(v=!0,s===!0)continue;break}}r.noext===!0&&(g=!1,y=!1);let U=c,J="",d="";u>0&&(J=c.slice(0,u),c=c.slice(u),p-=u),U&&y===!0&&p>0?(U=c.slice(0,p),d=c.slice(p)):y===!0?(U="",d=c):U=c,U&&U!==""&&U!=="/"&&U!==c&&Ji(U.charCodeAt(U.length-1))&&(U=U.slice(0,-1)),r.unescape===!0&&(d&&(d=Zi.removeBackslashes(d)),U&&q===!0&&(U=Zi.removeBackslashes(U)));let h={prefix:J,input:e,start:u,base:U,glob:d,isBrace:l,isBracket:E,isGlob:y,isExtglob:g,isGlobstar:w,negated:k,negatedExtglob:C};if(r.tokens===!0&&(h.maxDepth=0,Ji($)||i.push(D),h.tokens=i),r.parts===!0||r.tokens===!0){let Y;for(let I=0;I<a.length;I++){let ve=Y?Y+1:u,xe=a[I],le=e.slice(ve,xe);r.tokens&&(I===0&&u!==0?(i[I].isPrefix=!0,i[I].value=J):i[I].value=le,ea(i[I]),h.maxDepth+=i[I].depth),(I!==0||le!=="")&&o.push(le),Y=xe}if(Y&&Y+1<e.length){let I=e.slice(Y+1);o.push(I),r.tokens&&(i[i.length-1].value=I,ea(i[i.length-1]),h.maxDepth+=i[i.length-1].depth)}h.slashes=a,h.parts=o}return h};ra.exports=ll});var aa=_((Ph,ia)=>{"use strict";var Gt=wt(),pe=$t(),{MAX_LENGTH:zt,POSIX_REGEX_SOURCE:fl,REGEX_NON_SPECIAL_CHARS:dl,REGEX_SPECIAL_CHARS_BACKREF:hl,REPLACEMENTS:sa}=Gt,pl=(e,t)=>{if(typeof t.expandRange=="function")return t.expandRange(...e,t);e.sort();let r=`[${e.join("-")}]`;try{new RegExp(r)}catch{return e.map(s=>pe.escapeRegex(s)).join("..")}return r},ct=(e,t)=>`Missing ${e}: "${t}" - use "\\\\${t}" to match literal characters`,Zr=(e,t)=>{if(typeof e!="string")throw new TypeError("Expected a string");e=sa[e]||e;let r={...t},n=typeof r.maxLength=="number"?Math.min(zt,r.maxLength):zt,s=e.length;if(s>n)throw new SyntaxError(`Input length: ${s}, exceeds maximum allowed length: ${n}`);let a={type:"bos",value:"",output:r.prepend||""},i=[a],o=r.capture?"":"?:",c=pe.isWindows(t),f=Gt.globChars(c),u=Gt.extglobChars(f),{DOT_LITERAL:p,PLUS_LITERAL:l,SLASH_LITERAL:E,ONE_CHAR:y,DOTS_SLASH:g,NO_DOT:w,NO_DOT_SLASH:R,NO_DOTS_SLASH:q,QMARK:k,QMARK_NO_DOT:C,STAR:v,START_ANCHOR:N}=f,x=S=>`(${o}(?:(?!${N}${S.dot?g:p}).)*?)`,$=r.dot?"":w,D=r.dot?k:C,j=r.bash===!0?x(r):v;r.capture&&(j=`(${j})`),typeof r.noext=="boolean"&&(r.noextglob=r.noext);let m={input:e,index:-1,start:0,dot:r.dot===!0,consumed:"",output:"",prefix:"",backtrack:!1,negated:!1,brackets:0,braces:0,parens:0,quotes:0,globstar:!1,tokens:i};e=pe.removePrefix(e,m),s=e.length;let P=[],U=[],J=[],d=a,h,Y=()=>m.index===s-1,I=m.peek=(S=1)=>e[m.index+S],ve=m.advance=()=>e[++m.index]||"",xe=()=>e.slice(m.index+1),le=(S="",B=0)=>{m.consumed+=S,m.index+=B},xt=S=>{m.output+=S.output!=null?S.output:S.value,le(S.value)},ac=()=>{let S=1;for(;I()==="!"&&(I(2)!=="("||I(3)==="?");)ve(),m.start++,S++;return S%2===0?!1:(m.negated=!0,m.start++,!0)},kt=S=>{m[S]++,J.push(S)},Ge=S=>{m[S]--,J.pop()},L=S=>{if(d.type==="globstar"){let B=m.braces>0&&(S.type==="comma"||S.type==="brace"),b=S.extglob===!0||P.length&&(S.type==="pipe"||S.type==="paren");S.type!=="slash"&&S.type!=="paren"&&!B&&!b&&(m.output=m.output.slice(0,-d.output.length),d.type="star",d.value="*",d.output=j,m.output+=d.output)}if(P.length&&S.type!=="paren"&&(P[P.length-1].inner+=S.value),(S.value||S.output)&&xt(S),d&&d.type==="text"&&S.type==="text"){d.value+=S.value,d.output=(d.output||"")+S.value;return}S.prev=d,i.push(S),d=S},Rt=(S,B)=>{let b={...u[B],conditions:1,inner:""};b.prev=d,b.parens=m.parens,b.output=m.output;let T=(r.capture?"(":"")+b.open;kt("parens"),L({type:S,value:B,output:m.output?"":y}),L({type:"paren",extglob:!0,value:ve(),output:T}),P.push(b)},oc=S=>{let B=S.close+(r.capture?")":""),b;if(S.type==="negate"){let T=j;if(S.inner&&S.inner.length>1&&S.inner.includes("/")&&(T=x(r)),(T!==j||Y()||/^\)+$/.test(xe()))&&(B=S.close=`)$))${T}`),S.inner.includes("*")&&(b=xe())&&/^\.[^\\/.]+$/.test(b)){let V=Zr(b,{...t,fastpaths:!1}).output;B=S.close=`)${V})${T})`}S.prev.type==="bos"&&(m.negatedExtglob=!0)}L({type:"paren",extglob:!0,value:h,output:B}),Ge("parens")};if(r.fastpaths!==!1&&!/(^[*!]|[/()[\]{}"])/.test(e)){let S=!1,B=e.replace(hl,(b,T,V,se,Z,$r)=>se==="\\"?(S=!0,b):se==="?"?T?T+se+(Z?k.repeat(Z.length):""):$r===0?D+(Z?k.repeat(Z.length):""):k.repeat(V.length):se==="."?p.repeat(V.length):se==="*"?T?T+se+(Z?j:""):j:T?b:`\\${b}`);return S===!0&&(r.unescape===!0?B=B.replace(/\\/g,""):B=B.replace(/\\+/g,b=>b.length%2===0?"\\\\":b?"\\":"")),B===e&&r.contains===!0?(m.output=e,m):(m.output=pe.wrapOutput(B,m,t),m)}for(;!Y();){if(h=ve(),h==="\0")continue;if(h==="\\"){let b=I();if(b==="/"&&r.bash!==!0||b==="."||b===";")continue;if(!b){h+="\\",L({type:"text",value:h});continue}let T=/^\\+/.exec(xe()),V=0;if(T&&T[0].length>2&&(V=T[0].length,m.index+=V,V%2!==0&&(h+="\\")),r.unescape===!0?h=ve():h+=ve(),m.brackets===0){L({type:"text",value:h});continue}}if(m.brackets>0&&(h!=="]"||d.value==="["||d.value==="[^")){if(r.posix!==!1&&h===":"){let b=d.value.slice(1);if(b.includes("[")&&(d.posix=!0,b.includes(":"))){let T=d.value.lastIndexOf("["),V=d.value.slice(0,T),se=d.value.slice(T+2),Z=fl[se];if(Z){d.value=V+Z,m.backtrack=!0,ve(),!a.output&&i.indexOf(d)===1&&(a.output=y);continue}}}(h==="["&&I()!==":"||h==="-"&&I()==="]")&&(h=`\\${h}`),h==="]"&&(d.value==="["||d.value==="[^")&&(h=`\\${h}`),r.posix===!0&&h==="!"&&d.value==="["&&(h="^"),d.value+=h,xt({value:h});continue}if(m.quotes===1&&h!=='"'){h=pe.escapeRegex(h),d.value+=h,xt({value:h});continue}if(h==='"'){m.quotes=m.quotes===1?0:1,r.keepQuotes===!0&&L({type:"text",value:h});continue}if(h==="("){kt("parens"),L({type:"paren",value:h});continue}if(h===")"){if(m.parens===0&&r.strictBrackets===!0)throw new SyntaxError(ct("opening","("));let b=P[P.length-1];if(b&&m.parens===b.parens+1){oc(P.pop());continue}L({type:"paren",value:h,output:m.parens?")":"\\)"}),Ge("parens");continue}if(h==="["){if(r.nobracket===!0||!xe().includes("]")){if(r.nobracket!==!0&&r.strictBrackets===!0)throw new SyntaxError(ct("closing","]"));h=`\\${h}`}else kt("brackets");L({type:"bracket",value:h});continue}if(h==="]"){if(r.nobracket===!0||d&&d.type==="bracket"&&d.value.length===1){L({type:"text",value:h,output:`\\${h}`});continue}if(m.brackets===0){if(r.strictBrackets===!0)throw new SyntaxError(ct("opening","["));L({type:"text",value:h,output:`\\${h}`});continue}Ge("brackets");let b=d.value.slice(1);if(d.posix!==!0&&b[0]==="^"&&!b.includes("/")&&(h=`/${h}`),d.value+=h,xt({value:h}),r.literalBrackets===!1||pe.hasRegexChars(b))continue;let T=pe.escapeRegex(d.value);if(m.output=m.output.slice(0,-d.value.length),r.literalBrackets===!0){m.output+=T,d.value=T;continue}d.value=`(${o}${T}|${d.value})`,m.output+=d.value;continue}if(h==="{"&&r.nobrace!==!0){kt("braces");let b={type:"brace",value:h,output:"(",outputIndex:m.output.length,tokensIndex:m.tokens.length};U.push(b),L(b);continue}if(h==="}"){let b=U[U.length-1];if(r.nobrace===!0||!b){L({type:"text",value:h,output:h});continue}let T=")";if(b.dots===!0){let V=i.slice(),se=[];for(let Z=V.length-1;Z>=0&&(i.pop(),V[Z].type!=="brace");Z--)V[Z].type!=="dots"&&se.unshift(V[Z].value);T=pl(se,r),m.backtrack=!0}if(b.comma!==!0&&b.dots!==!0){let V=m.output.slice(0,b.outputIndex),se=m.tokens.slice(b.tokensIndex);b.value=b.output="\\{",h=T="\\}",m.output=V;for(let Z of se)m.output+=Z.output||Z.value}L({type:"brace",value:h,output:T}),Ge("braces"),U.pop();continue}if(h==="|"){P.length>0&&P[P.length-1].conditions++,L({type:"text",value:h});continue}if(h===","){let b=h,T=U[U.length-1];T&&J[J.length-1]==="braces"&&(T.comma=!0,b="|"),L({type:"comma",value:h,output:b});continue}if(h==="/"){if(d.type==="dot"&&m.index===m.start+1){m.start=m.index+1,m.consumed="",m.output="",i.pop(),d=a;continue}L({type:"slash",value:h,output:E});continue}if(h==="."){if(m.braces>0&&d.type==="dot"){d.value==="."&&(d.output=p);let b=U[U.length-1];d.type="dots",d.output+=h,d.value+=h,b.dots=!0;continue}if(m.braces+m.parens===0&&d.type!=="bos"&&d.type!=="slash"){L({type:"text",value:h,output:p});continue}L({type:"dot",value:h,output:p});continue}if(h==="?"){if(!(d&&d.value==="(")&&r.noextglob!==!0&&I()==="("&&I(2)!=="?"){Rt("qmark",h);continue}if(d&&d.type==="paren"){let T=I(),V=h;if(T==="<"&&!pe.supportsLookbehinds())throw new Error("Node.js v10 or higher is required for regex lookbehinds");(d.value==="("&&!/[!=<:]/.test(T)||T==="<"&&!/<([!=]|\w+>)/.test(xe()))&&(V=`\\${h}`),L({type:"text",value:h,output:V});continue}if(r.dot!==!0&&(d.type==="slash"||d.type==="bos")){L({type:"qmark",value:h,output:C});continue}L({type:"qmark",value:h,output:k});continue}if(h==="!"){if(r.noextglob!==!0&&I()==="("&&(I(2)!=="?"||!/[!=<:]/.test(I(3)))){Rt("negate",h);continue}if(r.nonegate!==!0&&m.index===0){ac();continue}}if(h==="+"){if(r.noextglob!==!0&&I()==="("&&I(2)!=="?"){Rt("plus",h);continue}if(d&&d.value==="("||r.regex===!1){L({type:"plus",value:h,output:l});continue}if(d&&(d.type==="bracket"||d.type==="paren"||d.type==="brace")||m.parens>0){L({type:"plus",value:h});continue}L({type:"plus",value:l});continue}if(h==="@"){if(r.noextglob!==!0&&I()==="("&&I(2)!=="?"){L({type:"at",extglob:!0,value:h,output:""});continue}L({type:"text",value:h});continue}if(h!=="*"){(h==="$"||h==="^")&&(h=`\\${h}`);let b=dl.exec(xe());b&&(h+=b[0],m.index+=b[0].length),L({type:"text",value:h});continue}if(d&&(d.type==="globstar"||d.star===!0)){d.type="star",d.star=!0,d.value+=h,d.output=j,m.backtrack=!0,m.globstar=!0,le(h);continue}let S=xe();if(r.noextglob!==!0&&/^\([^?]/.test(S)){Rt("star",h);continue}if(d.type==="star"){if(r.noglobstar===!0){le(h);continue}let b=d.prev,T=b.prev,V=b.type==="slash"||b.type==="bos",se=T&&(T.type==="star"||T.type==="globstar");if(r.bash===!0&&(!V||S[0]&&S[0]!=="/")){L({type:"star",value:h,output:""});continue}let Z=m.braces>0&&(b.type==="comma"||b.type==="brace"),$r=P.length&&(b.type==="pipe"||b.type==="paren");if(!V&&b.type!=="paren"&&!Z&&!$r){L({type:"star",value:h,output:""});continue}for(;S.slice(0,3)==="/**";){let Pt=e[m.index+4];if(Pt&&Pt!=="/")break;S=S.slice(3),le("/**",3)}if(b.type==="bos"&&Y()){d.type="globstar",d.value+=h,d.output=x(r),m.output=d.output,m.globstar=!0,le(h);continue}if(b.type==="slash"&&b.prev.type!=="bos"&&!se&&Y()){m.output=m.output.slice(0,-(b.output+d.output).length),b.output=`(?:${b.output}`,d.type="globstar",d.output=x(r)+(r.strictSlashes?")":"|$)"),d.value+=h,m.globstar=!0,m.output+=b.output+d.output,le(h);continue}if(b.type==="slash"&&b.prev.type!=="bos"&&S[0]==="/"){let Pt=S[1]!==void 0?"|$":"";m.output=m.output.slice(0,-(b.output+d.output).length),b.output=`(?:${b.output}`,d.type="globstar",d.output=`${x(r)}${E}|${E}${Pt})`,d.value+=h,m.output+=b.output+d.output,m.globstar=!0,le(h+ve()),L({type:"slash",value:"/",output:""});continue}if(b.type==="bos"&&S[0]==="/"){d.type="globstar",d.value+=h,d.output=`(?:^|${E}|${x(r)}${E})`,m.output=d.output,m.globstar=!0,le(h+ve()),L({type:"slash",value:"/",output:""});continue}m.output=m.output.slice(0,-d.output.length),d.type="globstar",d.output=x(r),d.value+=h,m.output+=d.output,m.globstar=!0,le(h);continue}let B={type:"star",value:h,output:j};if(r.bash===!0){B.output=".*?",(d.type==="bos"||d.type==="slash")&&(B.output=$+B.output),L(B);continue}if(d&&(d.type==="bracket"||d.type==="paren")&&r.regex===!0){B.output=h,L(B);continue}(m.index===m.start||d.type==="slash"||d.type==="dot")&&(d.type==="dot"?(m.output+=R,d.output+=R):r.dot===!0?(m.output+=q,d.output+=q):(m.output+=$,d.output+=$),I()!=="*"&&(m.output+=y,d.output+=y)),L(B)}for(;m.brackets>0;){if(r.strictBrackets===!0)throw new SyntaxError(ct("closing","]"));m.output=pe.escapeLast(m.output,"["),Ge("brackets")}for(;m.parens>0;){if(r.strictBrackets===!0)throw new SyntaxError(ct("closing",")"));m.output=pe.escapeLast(m.output,"("),Ge("parens")}for(;m.braces>0;){if(r.strictBrackets===!0)throw new SyntaxError(ct("closing","}"));m.output=pe.escapeLast(m.output,"{"),Ge("braces")}if(r.strictSlashes!==!0&&(d.type==="star"||d.type==="bracket")&&L({type:"maybe_slash",value:"",output:`${E}?`}),m.backtrack===!0){m.output="";for(let S of m.tokens)m.output+=S.output!=null?S.output:S.value,S.suffix&&(m.output+=S.suffix)}return m};Zr.fastpaths=(e,t)=>{let r={...t},n=typeof r.maxLength=="number"?Math.min(zt,r.maxLength):zt,s=e.length;if(s>n)throw new SyntaxError(`Input length: ${s}, exceeds maximum allowed length: ${n}`);e=sa[e]||e;let a=pe.isWindows(t),{DOT_LITERAL:i,SLASH_LITERAL:o,ONE_CHAR:c,DOTS_SLASH:f,NO_DOT:u,NO_DOTS:p,NO_DOTS_SLASH:l,STAR:E,START_ANCHOR:y}=Gt.globChars(a),g=r.dot?p:u,w=r.dot?l:u,R=r.capture?"":"?:",q={negated:!1,prefix:""},k=r.bash===!0?".*?":E;r.capture&&(k=`(${k})`);let C=$=>$.noglobstar===!0?k:`(${R}(?:(?!${y}${$.dot?f:i}).)*?)`,v=$=>{switch($){case"*":return`${g}${c}${k}`;case".*":return`${i}${c}${k}`;case"*.*":return`${g}${k}${i}${c}${k}`;case"*/*":return`${g}${k}${o}${c}${w}${k}`;case"**":return g+C(r);case"**/*":return`(?:${g}${C(r)}${o})?${w}${c}${k}`;case"**/*.*":return`(?:${g}${C(r)}${o})?${w}${k}${i}${c}${k}`;case"**/.*":return`(?:${g}${C(r)}${o})?${i}${c}${k}`;default:{let D=/^(.*?)\.(\w+)$/.exec($);if(!D)return;let j=v(D[1]);return j?j+i+D[2]:void 0}}},N=pe.removePrefix(e,q),x=v(N);return x&&r.strictSlashes!==!0&&(x+=`${o}?`),x};ia.exports=Zr});var ca=_((Ch,oa)=>{"use strict";var ml=require("path"),gl=na(),Qr=aa(),Xr=$t(),yl=wt(),bl=e=>e&&typeof e=="object"&&!Array.isArray(e),G=(e,t,r=!1)=>{if(Array.isArray(e)){let u=e.map(l=>G(l,t,r));return l=>{for(let E of u){let y=E(l);if(y)return y}return!1}}let n=bl(e)&&e.tokens&&e.input;if(e===""||typeof e!="string"&&!n)throw new TypeError("Expected pattern to be a non-empty string");let s=t||{},a=Xr.isWindows(t),i=n?G.compileRe(e,t):G.makeRe(e,t,!1,!0),o=i.state;delete i.state;let c=()=>!1;if(s.ignore){let u={...t,ignore:null,onMatch:null,onResult:null};c=G(s.ignore,u,r)}let f=(u,p=!1)=>{let{isMatch:l,match:E,output:y}=G.test(u,i,t,{glob:e,posix:a}),g={glob:e,state:o,regex:i,posix:a,input:u,output:y,match:E,isMatch:l};return typeof s.onResult=="function"&&s.onResult(g),l===!1?(g.isMatch=!1,p?g:!1):c(u)?(typeof s.onIgnore=="function"&&s.onIgnore(g),g.isMatch=!1,p?g:!1):(typeof s.onMatch=="function"&&s.onMatch(g),p?g:!0)};return r&&(f.state=o),f};G.test=(e,t,r,{glob:n,posix:s}={})=>{if(typeof e!="string")throw new TypeError("Expected input to be a string");if(e==="")return{isMatch:!1,output:""};let a=r||{},i=a.format||(s?Xr.toPosixSlashes:null),o=e===n,c=o&&i?i(e):e;return o===!1&&(c=i?i(e):e,o=c===n),(o===!1||a.capture===!0)&&(a.matchBase===!0||a.basename===!0?o=G.matchBase(e,t,r,s):o=t.exec(c)),{isMatch:!!o,match:o,output:c}};G.matchBase=(e,t,r,n=Xr.isWindows(r))=>(t instanceof RegExp?t:G.makeRe(t,r)).test(ml.basename(e));G.isMatch=(e,t,r)=>G(t,r)(e);G.parse=(e,t)=>Array.isArray(e)?e.map(r=>G.parse(r,t)):Qr(e,{...t,fastpaths:!1});G.scan=(e,t)=>gl(e,t);G.compileRe=(e,t,r=!1,n=!1)=>{if(r===!0)return e.output;let s=t||{},a=s.contains?"":"^",i=s.contains?"":"$",o=`${a}(?:${e.output})${i}`;e&&e.negated===!0&&(o=`^(?!${o}).*$`);let c=G.toRegex(o,t);return n===!0&&(c.state=e),c};G.makeRe=(e,t={},r=!1,n=!1)=>{if(!e||typeof e!="string")throw new TypeError("Expected a non-empty string");let s={negated:!1,fastpaths:!0};return t.fastpaths!==!1&&(e[0]==="."||e[0]==="*")&&(s.output=Qr.fastpaths(e,t)),s.output||(s=Qr(e,t)),G.compileRe(s,t,r,n)};G.toRegex=(e,t)=>{try{let r=t||{};return new RegExp(e,r.flags||(r.nocase?"i":""))}catch(r){if(t&&t.debug===!0)throw r;return/$^/}};G.constants=yl;oa.exports=G});var la=_((Th,ua)=>{"use strict";ua.exports=ca()});var ga=_((Oh,ma)=>{"use strict";var da=require("util"),ha=Vi(),Re=la(),Jr=$t(),fa=e=>e===""||e==="./",pa=e=>{let t=e.indexOf("{");return t>-1&&e.indexOf("}",t)>-1},W=(e,t,r)=>{t=[].concat(t),e=[].concat(e);let n=new Set,s=new Set,a=new Set,i=0,o=u=>{a.add(u.output),r&&r.onResult&&r.onResult(u)};for(let u=0;u<t.length;u++){let p=Re(String(t[u]),{...r,onResult:o},!0),l=p.state.negated||p.state.negatedExtglob;l&&i++;for(let E of e){let y=p(E,!0);(l?!y.isMatch:y.isMatch)&&(l?n.add(y.output):(n.delete(y.output),s.add(y.output)))}}let f=(i===t.length?[...a]:[...s]).filter(u=>!n.has(u));if(r&&f.length===0){if(r.failglob===!0)throw new Error(`No matches found for "${t.join(", ")}"`);if(r.nonull===!0||r.nullglob===!0)return r.unescape?t.map(u=>u.replace(/\\/g,"")):t}return f};W.match=W;W.matcher=(e,t)=>Re(e,t);W.isMatch=(e,t,r)=>Re(t,r)(e);W.any=W.isMatch;W.not=(e,t,r={})=>{t=[].concat(t).map(String);let n=new Set,s=[],a=o=>{r.onResult&&r.onResult(o),s.push(o.output)},i=new Set(W(e,t,{...r,onResult:a}));for(let o of s)i.has(o)||n.add(o);return[...n]};W.contains=(e,t,r)=>{if(typeof e!="string")throw new TypeError(`Expected a string: "${da.inspect(e)}"`);if(Array.isArray(t))return t.some(n=>W.contains(e,n,r));if(typeof t=="string"){if(fa(e)||fa(t))return!1;if(e.includes(t)||e.startsWith("./")&&e.slice(2).includes(t))return!0}return W.isMatch(e,t,{...r,contains:!0})};W.matchKeys=(e,t,r)=>{if(!Jr.isObject(e))throw new TypeError("Expected the first argument to be an object");let n=W(Object.keys(e),t,r),s={};for(let a of n)s[a]=e[a];return s};W.some=(e,t,r)=>{let n=[].concat(e);for(let s of[].concat(t)){let a=Re(String(s),r);if(n.some(i=>a(i)))return!0}return!1};W.every=(e,t,r)=>{let n=[].concat(e);for(let s of[].concat(t)){let a=Re(String(s),r);if(!n.every(i=>a(i)))return!1}return!0};W.all=(e,t,r)=>{if(typeof e!="string")throw new TypeError(`Expected a string: "${da.inspect(e)}"`);return[].concat(t).every(n=>Re(n,r)(e))};W.capture=(e,t,r)=>{let n=Jr.isWindows(r),a=Re.makeRe(String(e),{...r,capture:!0}).exec(n?Jr.toPosixSlashes(t):t);if(a)return a.slice(1).map(i=>i===void 0?"":i)};W.makeRe=(...e)=>Re.makeRe(...e);W.scan=(...e)=>Re.scan(...e);W.parse=(e,t)=>{let r=[];for(let n of[].concat(e||[]))for(let s of ha(String(n),t))r.push(Re.parse(s,t));return r};W.braces=(e,t)=>{if(typeof e!="string")throw new TypeError("Expected a string");return t&&t.nobrace===!0||!pa(e)?[e]:ha(e,t)};W.braceExpand=(e,t)=>{if(typeof e!="string")throw new TypeError("Expected a string");return W.braces(e,{...t,expand:!0})};W.hasBraces=pa;ma.exports=W});var xa=_(A=>{"use strict";Object.defineProperty(A,"__esModule",{value:!0});A.isAbsolute=A.partitionAbsoluteAndRelative=A.removeDuplicateSlashes=A.matchAny=A.convertPatternsToRe=A.makeRe=A.getPatternParts=A.expandBraceExpansion=A.expandPatternsWithBraceExpansion=A.isAffectDepthOfReadingPattern=A.endsWithSlashGlobStar=A.hasGlobStar=A.getBaseDirectory=A.isPatternRelatedToParentDirectory=A.getPatternsOutsideCurrentDirectory=A.getPatternsInsideCurrentDirectory=A.getPositivePatterns=A.getNegativePatterns=A.isPositivePattern=A.isNegativePattern=A.convertToNegativePattern=A.convertToPositivePattern=A.isDynamicPattern=A.isStaticPattern=void 0;var ya=require("path"),_l=ci(),en=ga(),ba="**",Sl="\\",wl=/[*?]|^!/,$l=/\[[^[]*]/,El=/(?:^|[^!*+?@])\([^(]*\|[^|]*\)/,Al=/[!*+?@]\([^(]*\)/,vl=/,|\.\./,xl=/(?!^)\/{2,}/g;function _a(e,t={}){return!Sa(e,t)}A.isStaticPattern=_a;function Sa(e,t={}){return e===""?!1:!!(t.caseSensitiveMatch===!1||e.includes(Sl)||wl.test(e)||$l.test(e)||El.test(e)||t.extglob!==!1&&Al.test(e)||t.braceExpansion!==!1&&kl(e))}A.isDynamicPattern=Sa;function kl(e){let t=e.indexOf("{");if(t===-1)return!1;let r=e.indexOf("}",t+1);if(r===-1)return!1;let n=e.slice(t,r);return vl.test(n)}function Rl(e){return Kt(e)?e.slice(1):e}A.convertToPositivePattern=Rl;function Pl(e){return"!"+e}A.convertToNegativePattern=Pl;function Kt(e){return e.startsWith("!")&&e[1]!=="("}A.isNegativePattern=Kt;function wa(e){return!Kt(e)}A.isPositivePattern=wa;function Cl(e){return e.filter(Kt)}A.getNegativePatterns=Cl;function Tl(e){return e.filter(wa)}A.getPositivePatterns=Tl;function Ol(e){return e.filter(t=>!tn(t))}A.getPatternsInsideCurrentDirectory=Ol;function Il(e){return e.filter(tn)}A.getPatternsOutsideCurrentDirectory=Il;function tn(e){return e.startsWith("..")||e.startsWith("./..")}A.isPatternRelatedToParentDirectory=tn;function Ll(e){return _l(e,{flipBackslashes:!1})}A.getBaseDirectory=Ll;function Dl(e){return e.includes(ba)}A.hasGlobStar=Dl;function $a(e){return e.endsWith("/"+ba)}A.endsWithSlashGlobStar=$a;function Ml(e){let t=ya.basename(e);return $a(e)||_a(t)}A.isAffectDepthOfReadingPattern=Ml;function Nl(e){return e.reduce((t,r)=>t.concat(Ea(r)),[])}A.expandPatternsWithBraceExpansion=Nl;function Ea(e){let t=en.braces(e,{expand:!0,nodupes:!0,keepEscaping:!0});return t.sort((r,n)=>r.length-n.length),t.filter(r=>r!=="")}A.expandBraceExpansion=Ea;function Ul(e,t){let{parts:r}=en.scan(e,Object.assign(Object.assign({},t),{parts:!0}));return r.length===0&&(r=[e]),r[0].startsWith("/")&&(r[0]=r[0].slice(1),r.unshift("")),r}A.getPatternParts=Ul;function Aa(e,t){return en.makeRe(e,t)}A.makeRe=Aa;function Fl(e,t){return e.map(r=>Aa(r,t))}A.convertPatternsToRe=Fl;function Hl(e,t){return t.some(r=>r.test(e))}A.matchAny=Hl;function Bl(e){return e.replace(xl,"/")}A.removeDuplicateSlashes=Bl;function Wl(e){let t=[],r=[];for(let n of e)va(n)?t.push(n):r.push(n);return[t,r]}A.partitionAbsoluteAndRelative=Wl;function va(e){return ya.isAbsolute(e)}A.isAbsolute=va});var Ca=_((Lh,Pa)=>{"use strict";var ql=require("stream"),ka=ql.PassThrough,Vl=Array.prototype.slice;Pa.exports=jl;function jl(){let e=[],t=Vl.call(arguments),r=!1,n=t[t.length-1];n&&!Array.isArray(n)&&n.pipe==null?t.pop():n={};let s=n.end!==!1,a=n.pipeError===!0;n.objectMode==null&&(n.objectMode=!0),n.highWaterMark==null&&(n.highWaterMark=64*1024);let i=ka(n);function o(){for(let u=0,p=arguments.length;u<p;u++)e.push(Ra(arguments[u],n));return c(),this}function c(){if(r)return;r=!0;let u=e.shift();if(!u){process.nextTick(f);return}Array.isArray(u)||(u=[u]);let p=u.length+1;function l(){--p>0||(r=!1,c())}function E(y){function g(){y.removeListener("merge2UnpipeEnd",g),y.removeListener("end",g),a&&y.removeListener("error",w),l()}function w(R){i.emit("error",R)}if(y._readableState.endEmitted)return l();y.on("merge2UnpipeEnd",g),y.on("end",g),a&&y.on("error",w),y.pipe(i,{end:!1}),y.resume()}for(let y=0;y<u.length;y++)E(u[y]);l()}function f(){r=!1,i.emit("queueDrain"),s&&i.end()}return i.setMaxListeners(0),i.add=o,i.on("unpipe",function(u){u.emit("merge2UnpipeEnd")}),t.length&&o.apply(null,t),i}function Ra(e,t){if(Array.isArray(e))for(let r=0,n=e.length;r<n;r++)e[r]=Ra(e[r],t);else{if(!e._readableState&&e.pipe&&(e=e.pipe(ka(t))),!e._readableState||!e.pause||!e.pipe)throw new Error("Only readable stream can be merged.");e.pause()}return e}});var Oa=_(Yt=>{"use strict";Object.defineProperty(Yt,"__esModule",{value:!0});Yt.merge=void 0;var Gl=Ca();function zl(e){let t=Gl(e);return e.forEach(r=>{r.once("error",n=>t.emit("error",n))}),t.once("close",()=>Ta(e)),t.once("end",()=>Ta(e)),t}Yt.merge=zl;function Ta(e){e.forEach(t=>t.emit("close"))}});var Ia=_(ut=>{"use strict";Object.defineProperty(ut,"__esModule",{value:!0});ut.isEmpty=ut.isString=void 0;function Kl(e){return typeof e=="string"}ut.isString=Kl;function Yl(e){return e===""}ut.isEmpty=Yl});var De=_(ee=>{"use strict";Object.defineProperty(ee,"__esModule",{value:!0});ee.string=ee.stream=ee.pattern=ee.path=ee.fs=ee.errno=ee.array=void 0;var Zl=Ys();ee.array=Zl;var Ql=Zs();ee.errno=Ql;var Xl=Qs();ee.fs=Xl;var Jl=ti();ee.path=Jl;var ef=xa();ee.pattern=ef;var tf=Oa();ee.stream=tf;var rf=Ia();ee.string=rf});var Na=_(te=>{"use strict";Object.defineProperty(te,"__esModule",{value:!0});te.convertPatternGroupToTask=te.convertPatternGroupsToTasks=te.groupPatternsByBaseDirectory=te.getNegativePatternsAsPositive=te.getPositivePatterns=te.convertPatternsToTasks=te.generate=void 0;var $e=De();function nf(e,t){let r=La(e,t),n=La(t.ignore,t),s=Da(r),a=Ma(r,n),i=s.filter(u=>$e.pattern.isStaticPattern(u,t)),o=s.filter(u=>$e.pattern.isDynamicPattern(u,t)),c=rn(i,a,!1),f=rn(o,a,!0);return c.concat(f)}te.generate=nf;function La(e,t){let r=e;return t.braceExpansion&&(r=$e.pattern.expandPatternsWithBraceExpansion(r)),t.baseNameMatch&&(r=r.map(n=>n.includes("/")?n:`**/${n}`)),r.map(n=>$e.pattern.removeDuplicateSlashes(n))}function rn(e,t,r){let n=[],s=$e.pattern.getPatternsOutsideCurrentDirectory(e),a=$e.pattern.getPatternsInsideCurrentDirectory(e),i=nn(s),o=nn(a);return n.push(...sn(i,t,r)),"."in o?n.push(an(".",a,t,r)):n.push(...sn(o,t,r)),n}te.convertPatternsToTasks=rn;function Da(e){return $e.pattern.getPositivePatterns(e)}te.getPositivePatterns=Da;function Ma(e,t){return $e.pattern.getNegativePatterns(e).concat(t).map($e.pattern.convertToPositivePattern)}te.getNegativePatternsAsPositive=Ma;function nn(e){let t={};return e.reduce((r,n)=>{let s=$e.pattern.getBaseDirectory(n);return s in r?r[s].push(n):r[s]=[n],r},t)}te.groupPatternsByBaseDirectory=nn;function sn(e,t,r){return Object.keys(e).map(n=>an(n,e[n],t,r))}te.convertPatternGroupsToTasks=sn;function an(e,t,r,n){return{dynamic:n,positive:t,negative:r,base:e,patterns:[].concat(t,r.map($e.pattern.convertToNegativePattern))}}te.convertPatternGroupToTask=an});var Fa=_(Zt=>{"use strict";Object.defineProperty(Zt,"__esModule",{value:!0});Zt.read=void 0;function sf(e,t,r){t.fs.lstat(e,(n,s)=>{if(n!==null){Ua(r,n);return}if(!s.isSymbolicLink()||!t.followSymbolicLink){on(r,s);return}t.fs.stat(e,(a,i)=>{if(a!==null){if(t.throwErrorOnBrokenSymbolicLink){Ua(r,a);return}on(r,s);return}t.markSymbolicLink&&(i.isSymbolicLink=()=>!0),on(r,i)})})}Zt.read=sf;function Ua(e,t){e(t)}function on(e,t){e(null,t)}});var Ha=_(Qt=>{"use strict";Object.defineProperty(Qt,"__esModule",{value:!0});Qt.read=void 0;function af(e,t){let r=t.fs.lstatSync(e);if(!r.isSymbolicLink()||!t.followSymbolicLink)return r;try{let n=t.fs.statSync(e);return t.markSymbolicLink&&(n.isSymbolicLink=()=>!0),n}catch(n){if(!t.throwErrorOnBrokenSymbolicLink)return r;throw n}}Qt.read=af});var Ba=_(Ue=>{"use strict";Object.defineProperty(Ue,"__esModule",{value:!0});Ue.createFileSystemAdapter=Ue.FILE_SYSTEM_ADAPTER=void 0;var Xt=require("fs");Ue.FILE_SYSTEM_ADAPTER={lstat:Xt.lstat,stat:Xt.stat,lstatSync:Xt.lstatSync,statSync:Xt.statSync};function of(e){return e===void 0?Ue.FILE_SYSTEM_ADAPTER:Object.assign(Object.assign({},Ue.FILE_SYSTEM_ADAPTER),e)}Ue.createFileSystemAdapter=of});var Wa=_(un=>{"use strict";Object.defineProperty(un,"__esModule",{value:!0});var cf=Ba(),cn=class{constructor(t={}){this._options=t,this.followSymbolicLink=this._getValue(this._options.followSymbolicLink,!0),this.fs=cf.createFileSystemAdapter(this._options.fs),this.markSymbolicLink=this._getValue(this._options.markSymbolicLink,!1),this.throwErrorOnBrokenSymbolicLink=this._getValue(this._options.throwErrorOnBrokenSymbolicLink,!0)}_getValue(t,r){return t??r}};un.default=cn});var Ze=_(Fe=>{"use strict";Object.defineProperty(Fe,"__esModule",{value:!0});Fe.statSync=Fe.stat=Fe.Settings=void 0;var qa=Fa(),uf=Ha(),ln=Wa();Fe.Settings=ln.default;function lf(e,t,r){if(typeof t=="function"){qa.read(e,fn(),t);return}qa.read(e,fn(t),r)}Fe.stat=lf;function ff(e,t){let r=fn(t);return uf.read(e,r)}Fe.statSync=ff;function fn(e={}){return e instanceof ln.default?e:new ln.default(e)}});var Ga=_((Vh,ja)=>{var Va;ja.exports=typeof queueMicrotask=="function"?queueMicrotask.bind(typeof window<"u"?window:global):e=>(Va||(Va=Promise.resolve())).then(e).catch(t=>setTimeout(()=>{throw t},0))});var Ka=_((jh,za)=>{za.exports=hf;var df=Ga();function hf(e,t){let r,n,s,a=!0;Array.isArray(e)?(r=[],n=e.length):(s=Object.keys(e),r={},n=s.length);function i(c){function f(){t&&t(c,r),t=null}a?df(f):f()}function o(c,f,u){r[c]=u,(--n===0||f)&&i(f)}n?s?s.forEach(function(c){e[c](function(f,u){o(c,f,u)})}):e.forEach(function(c,f){c(function(u,p){o(f,u,p)})}):i(null),a=!1}});var dn=_(er=>{"use strict";Object.defineProperty(er,"__esModule",{value:!0});er.IS_SUPPORT_READDIR_WITH_FILE_TYPES=void 0;var Jt=process.versions.node.split(".");if(Jt[0]===void 0||Jt[1]===void 0)throw new Error(`Unexpected behavior. The 'process.versions.node' variable has invalid value: ${process.versions.node}`);var Ya=Number.parseInt(Jt[0],10),pf=Number.parseInt(Jt[1],10),Za=10,mf=10,gf=Ya>Za,yf=Ya===Za&&pf>=mf;er.IS_SUPPORT_READDIR_WITH_FILE_TYPES=gf||yf});var Qa=_(tr=>{"use strict";Object.defineProperty(tr,"__esModule",{value:!0});tr.createDirentFromStats=void 0;var hn=class{constructor(t,r){this.name=t,this.isBlockDevice=r.isBlockDevice.bind(r),this.isCharacterDevice=r.isCharacterDevice.bind(r),this.isDirectory=r.isDirectory.bind(r),this.isFIFO=r.isFIFO.bind(r),this.isFile=r.isFile.bind(r),this.isSocket=r.isSocket.bind(r),this.isSymbolicLink=r.isSymbolicLink.bind(r)}};function bf(e,t){return new hn(e,t)}tr.createDirentFromStats=bf});var pn=_(rr=>{"use strict";Object.defineProperty(rr,"__esModule",{value:!0});rr.fs=void 0;var _f=Qa();rr.fs=_f});var mn=_(nr=>{"use strict";Object.defineProperty(nr,"__esModule",{value:!0});nr.joinPathSegments=void 0;function Sf(e,t,r){return e.endsWith(r)?e+t:e+r+t}nr.joinPathSegments=Sf});var no=_(He=>{"use strict";Object.defineProperty(He,"__esModule",{value:!0});He.readdir=He.readdirWithFileTypes=He.read=void 0;var wf=Ze(),Xa=Ka(),$f=dn(),Ja=pn(),eo=mn();function Ef(e,t,r){if(!t.stats&&$f.IS_SUPPORT_READDIR_WITH_FILE_TYPES){to(e,t,r);return}ro(e,t,r)}He.read=Ef;function to(e,t,r){t.fs.readdir(e,{withFileTypes:!0},(n,s)=>{if(n!==null){sr(r,n);return}let a=s.map(o=>({dirent:o,name:o.name,path:eo.joinPathSegments(e,o.name,t.pathSegmentSeparator)}));if(!t.followSymbolicLinks){gn(r,a);return}let i=a.map(o=>Af(o,t));Xa(i,(o,c)=>{if(o!==null){sr(r,o);return}gn(r,c)})})}He.readdirWithFileTypes=to;function Af(e,t){return r=>{if(!e.dirent.isSymbolicLink()){r(null,e);return}t.fs.stat(e.path,(n,s)=>{if(n!==null){if(t.throwErrorOnBrokenSymbolicLink){r(n);return}r(null,e);return}e.dirent=Ja.fs.createDirentFromStats(e.name,s),r(null,e)})}}function ro(e,t,r){t.fs.readdir(e,(n,s)=>{if(n!==null){sr(r,n);return}let a=s.map(i=>{let o=eo.joinPathSegments(e,i,t.pathSegmentSeparator);return c=>{wf.stat(o,t.fsStatSettings,(f,u)=>{if(f!==null){c(f);return}let p={name:i,path:o,dirent:Ja.fs.createDirentFromStats(i,u)};t.stats&&(p.stats=u),c(null,p)})}});Xa(a,(i,o)=>{if(i!==null){sr(r,i);return}gn(r,o)})})}He.readdir=ro;function sr(e,t){e(t)}function gn(e,t){e(null,t)}});var co=_(Be=>{"use strict";Object.defineProperty(Be,"__esModule",{value:!0});Be.readdir=Be.readdirWithFileTypes=Be.read=void 0;var vf=Ze(),xf=dn(),so=pn(),io=mn();function kf(e,t){return!t.stats&&xf.IS_SUPPORT_READDIR_WITH_FILE_TYPES?ao(e,t):oo(e,t)}Be.read=kf;function ao(e,t){return t.fs.readdirSync(e,{withFileTypes:!0}).map(n=>{let s={dirent:n,name:n.name,path:io.joinPathSegments(e,n.name,t.pathSegmentSeparator)};if(s.dirent.isSymbolicLink()&&t.followSymbolicLinks)try{let a=t.fs.statSync(s.path);s.dirent=so.fs.createDirentFromStats(s.name,a)}catch(a){if(t.throwErrorOnBrokenSymbolicLink)throw a}return s})}Be.readdirWithFileTypes=ao;function oo(e,t){return t.fs.readdirSync(e).map(n=>{let s=io.joinPathSegments(e,n,t.pathSegmentSeparator),a=vf.statSync(s,t.fsStatSettings),i={name:n,path:s,dirent:so.fs.createDirentFromStats(n,a)};return t.stats&&(i.stats=a),i})}Be.readdir=oo});var uo=_(We=>{"use strict";Object.defineProperty(We,"__esModule",{value:!0});We.createFileSystemAdapter=We.FILE_SYSTEM_ADAPTER=void 0;var lt=require("fs");We.FILE_SYSTEM_ADAPTER={lstat:lt.lstat,stat:lt.stat,lstatSync:lt.lstatSync,statSync:lt.statSync,readdir:lt.readdir,readdirSync:lt.readdirSync};function Rf(e){return e===void 0?We.FILE_SYSTEM_ADAPTER:Object.assign(Object.assign({},We.FILE_SYSTEM_ADAPTER),e)}We.createFileSystemAdapter=Rf});var lo=_(bn=>{"use strict";Object.defineProperty(bn,"__esModule",{value:!0});var Pf=require("path"),Cf=Ze(),Tf=uo(),yn=class{constructor(t={}){this._options=t,this.followSymbolicLinks=this._getValue(this._options.followSymbolicLinks,!1),this.fs=Tf.createFileSystemAdapter(this._options.fs),this.pathSegmentSeparator=this._getValue(this._options.pathSegmentSeparator,Pf.sep),this.stats=this._getValue(this._options.stats,!1),this.throwErrorOnBrokenSymbolicLink=this._getValue(this._options.throwErrorOnBrokenSymbolicLink,!0),this.fsStatSettings=new Cf.Settings({followSymbolicLink:this.followSymbolicLinks,fs:this.fs,throwErrorOnBrokenSymbolicLink:this.throwErrorOnBrokenSymbolicLink})}_getValue(t,r){return t??r}};bn.default=yn});var ir=_(qe=>{"use strict";Object.defineProperty(qe,"__esModule",{value:!0});qe.Settings=qe.scandirSync=qe.scandir=void 0;var fo=no(),Of=co(),_n=lo();qe.Settings=_n.default;function If(e,t,r){if(typeof t=="function"){fo.read(e,Sn(),t);return}fo.read(e,Sn(t),r)}qe.scandir=If;function Lf(e,t){let r=Sn(t);return Of.read(e,r)}qe.scandirSync=Lf;function Sn(e={}){return e instanceof _n.default?e:new _n.default(e)}});var po=_((tp,ho)=>{"use strict";function Df(e){var t=new e,r=t;function n(){var a=t;return a.next?t=a.next:(t=new e,r=t),a.next=null,a}function s(a){r.next=a,r=a}return{get:n,release:s}}ho.exports=Df});var go=_((rp,wn)=>{"use strict";var Mf=po();function mo(e,t,r){if(typeof e=="function"&&(r=t,t=e,e=null),!(r>=1))throw new Error("fastqueue concurrency must be equal to or greater than 1");var n=Mf(Nf),s=null,a=null,i=0,o=null,c={push:g,drain:Se,saturated:Se,pause:u,paused:!1,get concurrency(){return r},set concurrency(v){if(!(v>=1))throw new Error("fastqueue concurrency must be equal to or greater than 1");if(r=v,!c.paused)for(;s&&i<r;)i++,R()},running:f,resume:E,idle:y,length:p,getQueue:l,unshift:w,empty:Se,kill:q,killAndDrain:k,error:C};return c;function f(){return i}function u(){c.paused=!0}function p(){for(var v=s,N=0;v;)v=v.next,N++;return N}function l(){for(var v=s,N=[];v;)N.push(v.value),v=v.next;return N}function E(){if(c.paused){if(c.paused=!1,s===null){i++,R();return}for(;s&&i<r;)i++,R()}}function y(){return i===0&&c.length()===0}function g(v,N){var x=n.get();x.context=e,x.release=R,x.value=v,x.callback=N||Se,x.errorHandler=o,i>=r||c.paused?a?(a.next=x,a=x):(s=x,a=x,c.saturated()):(i++,t.call(e,x.value,x.worked))}function w(v,N){var x=n.get();x.context=e,x.release=R,x.value=v,x.callback=N||Se,x.errorHandler=o,i>=r||c.paused?s?(x.next=s,s=x):(s=x,a=x,c.saturated()):(i++,t.call(e,x.value,x.worked))}function R(v){v&&n.release(v);var N=s;N&&i<=r?c.paused?i--:(a===s&&(a=null),s=N.next,N.next=null,t.call(e,N.value,N.worked),a===null&&c.empty()):--i===0&&c.drain()}function q(){s=null,a=null,c.drain=Se}function k(){s=null,a=null,c.drain(),c.drain=Se}function C(v){o=v}}function Se(){}function Nf(){this.value=null,this.callback=Se,this.next=null,this.release=Se,this.context=null,this.errorHandler=null;var e=this;this.worked=function(r,n){var s=e.callback,a=e.errorHandler,i=e.value;e.value=null,e.callback=Se,e.errorHandler&&a(r,i),s.call(e.context,r,n),e.release(e)}}function Uf(e,t,r){typeof e=="function"&&(r=t,t=e,e=null);function n(u,p){t.call(this,u).then(function(l){p(null,l)},p)}var s=mo(e,n,r),a=s.push,i=s.unshift;return s.push=o,s.unshift=c,s.drained=f,s;function o(u){var p=new Promise(function(l,E){a(u,function(y,g){if(y){E(y);return}l(g)})});return p.catch(Se),p}function c(u){var p=new Promise(function(l,E){i(u,function(y,g){if(y){E(y);return}l(g)})});return p.catch(Se),p}function f(){var u=new Promise(function(p){process.nextTick(function(){if(s.idle())p();else{var l=s.drain;s.drain=function(){typeof l=="function"&&l(),p(),s.drain=l}}})});return u}}wn.exports=mo;wn.exports.promise=Uf});var ar=_(Pe=>{"use strict";Object.defineProperty(Pe,"__esModule",{value:!0});Pe.joinPathSegments=Pe.replacePathSegmentSeparator=Pe.isAppliedFilter=Pe.isFatalError=void 0;function Ff(e,t){return e.errorFilter===null?!0:!e.errorFilter(t)}Pe.isFatalError=Ff;function Hf(e,t){return e===null||e(t)}Pe.isAppliedFilter=Hf;function Bf(e,t){return e.split(/[/\\]/).join(t)}Pe.replacePathSegmentSeparator=Bf;function Wf(e,t,r){return e===""?t:e.endsWith(r)?e+t:e+r+t}Pe.joinPathSegments=Wf});var An=_(En=>{"use strict";Object.defineProperty(En,"__esModule",{value:!0});var qf=ar(),$n=class{constructor(t,r){this._root=t,this._settings=r,this._root=qf.replacePathSegmentSeparator(t,r.pathSegmentSeparator)}};En.default=$n});var kn=_(xn=>{"use strict";Object.defineProperty(xn,"__esModule",{value:!0});var Vf=require("events"),jf=ir(),Gf=go(),or=ar(),zf=An(),vn=class extends zf.default{constructor(t,r){super(t,r),this._settings=r,this._scandir=jf.scandir,this._emitter=new Vf.EventEmitter,this._queue=Gf(this._worker.bind(this),this._settings.concurrency),this._isFatalError=!1,this._isDestroyed=!1,this._queue.drain=()=>{this._isFatalError||this._emitter.emit("end")}}read(){return this._isFatalError=!1,this._isDestroyed=!1,setImmediate(()=>{this._pushToQueue(this._root,this._settings.basePath)}),this._emitter}get isDestroyed(){return this._isDestroyed}destroy(){if(this._isDestroyed)throw new Error("The reader is already destroyed");this._isDestroyed=!0,this._queue.killAndDrain()}onEntry(t){this._emitter.on("entry",t)}onError(t){this._emitter.once("error",t)}onEnd(t){this._emitter.once("end",t)}_pushToQueue(t,r){let n={directory:t,base:r};this._queue.push(n,s=>{s!==null&&this._handleError(s)})}_worker(t,r){this._scandir(t.directory,this._settings.fsScandirSettings,(n,s)=>{if(n!==null){r(n,void 0);return}for(let a of s)this._handleEntry(a,t.base);r(null,void 0)})}_handleError(t){this._isDestroyed||!or.isFatalError(this._settings,t)||(this._isFatalError=!0,this._isDestroyed=!0,this._emitter.emit("error",t))}_handleEntry(t,r){if(this._isDestroyed||this._isFatalError)return;let n=t.path;r!==void 0&&(t.path=or.joinPathSegments(r,t.name,this._settings.pathSegmentSeparator)),or.isAppliedFilter(this._settings.entryFilter,t)&&this._emitEntry(t),t.dirent.isDirectory()&&or.isAppliedFilter(this._settings.deepFilter,t)&&this._pushToQueue(n,r===void 0?void 0:t.path)}_emitEntry(t){this._emitter.emit("entry",t)}};xn.default=vn});var yo=_(Pn=>{"use strict";Object.defineProperty(Pn,"__esModule",{value:!0});var Kf=kn(),Rn=class{constructor(t,r){this._root=t,this._settings=r,this._reader=new Kf.default(this._root,this._settings),this._storage=[]}read(t){this._reader.onError(r=>{Yf(t,r)}),this._reader.onEntry(r=>{this._storage.push(r)}),this._reader.onEnd(()=>{Zf(t,this._storage)}),this._reader.read()}};Pn.default=Rn;function Yf(e,t){e(t)}function Zf(e,t){e(null,t)}});var bo=_(Tn=>{"use strict";Object.defineProperty(Tn,"__esModule",{value:!0});var Qf=require("stream"),Xf=kn(),Cn=class{constructor(t,r){this._root=t,this._settings=r,this._reader=new Xf.default(this._root,this._settings),this._stream=new Qf.Readable({objectMode:!0,read:()=>{},destroy:()=>{this._reader.isDestroyed||this._reader.destroy()}})}read(){return this._reader.onError(t=>{this._stream.emit("error",t)}),this._reader.onEntry(t=>{this._stream.push(t)}),this._reader.onEnd(()=>{this._stream.push(null)}),this._reader.read(),this._stream}};Tn.default=Cn});var _o=_(In=>{"use strict";Object.defineProperty(In,"__esModule",{value:!0});var Jf=ir(),cr=ar(),ed=An(),On=class extends ed.default{constructor(){super(...arguments),this._scandir=Jf.scandirSync,this._storage=[],this._queue=new Set}read(){return this._pushToQueue(this._root,this._settings.basePath),this._handleQueue(),this._storage}_pushToQueue(t,r){this._queue.add({directory:t,base:r})}_handleQueue(){for(let t of this._queue.values())this._handleDirectory(t.directory,t.base)}_handleDirectory(t,r){try{let n=this._scandir(t,this._settings.fsScandirSettings);for(let s of n)this._handleEntry(s,r)}catch(n){this._handleError(n)}}_handleError(t){if(cr.isFatalError(this._settings,t))throw t}_handleEntry(t,r){let n=t.path;r!==void 0&&(t.path=cr.joinPathSegments(r,t.name,this._settings.pathSegmentSeparator)),cr.isAppliedFilter(this._settings.entryFilter,t)&&this._pushToStorage(t),t.dirent.isDirectory()&&cr.isAppliedFilter(this._settings.deepFilter,t)&&this._pushToQueue(n,r===void 0?void 0:t.path)}_pushToStorage(t){this._storage.push(t)}};In.default=On});var So=_(Dn=>{"use strict";Object.defineProperty(Dn,"__esModule",{value:!0});var td=_o(),Ln=class{constructor(t,r){this._root=t,this._settings=r,this._reader=new td.default(this._root,this._settings)}read(){return this._reader.read()}};Dn.default=Ln});var wo=_(Nn=>{"use strict";Object.defineProperty(Nn,"__esModule",{value:!0});var rd=require("path"),nd=ir(),Mn=class{constructor(t={}){this._options=t,this.basePath=this._getValue(this._options.basePath,void 0),this.concurrency=this._getValue(this._options.concurrency,Number.POSITIVE_INFINITY),this.deepFilter=this._getValue(this._options.deepFilter,null),this.entryFilter=this._getValue(this._options.entryFilter,null),this.errorFilter=this._getValue(this._options.errorFilter,null),this.pathSegmentSeparator=this._getValue(this._options.pathSegmentSeparator,rd.sep),this.fsScandirSettings=new nd.Settings({followSymbolicLinks:this._options.followSymbolicLinks,fs:this._options.fs,pathSegmentSeparator:this._options.pathSegmentSeparator,stats:this._options.stats,throwErrorOnBrokenSymbolicLink:this._options.throwErrorOnBrokenSymbolicLink})}_getValue(t,r){return t??r}};Nn.default=Mn});var lr=_(Ce=>{"use strict";Object.defineProperty(Ce,"__esModule",{value:!0});Ce.Settings=Ce.walkStream=Ce.walkSync=Ce.walk=void 0;var $o=yo(),sd=bo(),id=So(),Un=wo();Ce.Settings=Un.default;function ad(e,t,r){if(typeof t=="function"){new $o.default(e,ur()).read(t);return}new $o.default(e,ur(t)).read(r)}Ce.walk=ad;function od(e,t){let r=ur(t);return new id.default(e,r).read()}Ce.walkSync=od;function cd(e,t){let r=ur(t);return new sd.default(e,r).read()}Ce.walkStream=cd;function ur(e={}){return e instanceof Un.default?e:new Un.default(e)}});var fr=_(Hn=>{"use strict";Object.defineProperty(Hn,"__esModule",{value:!0});var ud=require("path"),ld=Ze(),Eo=De(),Fn=class{constructor(t){this._settings=t,this._fsStatSettings=new ld.Settings({followSymbolicLink:this._settings.followSymbolicLinks,fs:this._settings.fs,throwErrorOnBrokenSymbolicLink:this._settings.followSymbolicLinks})}_getFullEntryPath(t){return ud.resolve(this._settings.cwd,t)}_makeEntry(t,r){let n={name:r,path:r,dirent:Eo.fs.createDirentFromStats(r,t)};return this._settings.stats&&(n.stats=t),n}_isFatalError(t){return!Eo.errno.isEnoentCodeError(t)&&!this._settings.suppressErrors}};Hn.default=Fn});var qn=_(Wn=>{"use strict";Object.defineProperty(Wn,"__esModule",{value:!0});var fd=require("stream"),dd=Ze(),hd=lr(),pd=fr(),Bn=class extends pd.default{constructor(){super(...arguments),this._walkStream=hd.walkStream,this._stat=dd.stat}dynamic(t,r){return this._walkStream(t,r)}static(t,r){let n=t.map(this._getFullEntryPath,this),s=new fd.PassThrough({objectMode:!0});s._write=(a,i,o)=>this._getEntry(n[a],t[a],r).then(c=>{c!==null&&r.entryFilter(c)&&s.push(c),a===n.length-1&&s.end(),o()}).catch(o);for(let a=0;a<n.length;a++)s.write(a);return s}_getEntry(t,r,n){return this._getStat(t).then(s=>this._makeEntry(s,r)).catch(s=>{if(n.errorFilter(s))return null;throw s})}_getStat(t){return new Promise((r,n)=>{this._stat(t,this._fsStatSettings,(s,a)=>s===null?r(a):n(s))})}};Wn.default=Bn});var Ao=_(jn=>{"use strict";Object.defineProperty(jn,"__esModule",{value:!0});var md=lr(),gd=fr(),yd=qn(),Vn=class extends gd.default{constructor(){super(...arguments),this._walkAsync=md.walk,this._readerStream=new yd.default(this._settings)}dynamic(t,r){return new Promise((n,s)=>{this._walkAsync(t,r,(a,i)=>{a===null?n(i):s(a)})})}async static(t,r){let n=[],s=this._readerStream.static(t,r);return new Promise((a,i)=>{s.once("error",i),s.on("data",o=>n.push(o)),s.once("end",()=>a(n))})}};jn.default=Vn});var vo=_(zn=>{"use strict";Object.defineProperty(zn,"__esModule",{value:!0});var At=De(),Gn=class{constructor(t,r,n){this._patterns=t,this._settings=r,this._micromatchOptions=n,this._storage=[],this._fillStorage()}_fillStorage(){for(let t of this._patterns){let r=this._getPatternSegments(t),n=this._splitSegmentsIntoSections(r);this._storage.push({complete:n.length<=1,pattern:t,segments:r,sections:n})}}_getPatternSegments(t){return At.pattern.getPatternParts(t,this._micromatchOptions).map(n=>At.pattern.isDynamicPattern(n,this._settings)?{dynamic:!0,pattern:n,patternRe:At.pattern.makeRe(n,this._micromatchOptions)}:{dynamic:!1,pattern:n})}_splitSegmentsIntoSections(t){return At.array.splitWhen(t,r=>r.dynamic&&At.pattern.hasGlobStar(r.pattern))}};zn.default=Gn});var xo=_(Yn=>{"use strict";Object.defineProperty(Yn,"__esModule",{value:!0});var bd=vo(),Kn=class extends bd.default{match(t){let r=t.split("/"),n=r.length,s=this._storage.filter(a=>!a.complete||a.segments.length>n);for(let a of s){let i=a.sections[0];if(!a.complete&&n>i.length||r.every((c,f)=>{let u=a.segments[f];return!!(u.dynamic&&u.patternRe.test(c)||!u.dynamic&&u.pattern===c)}))return!0}return!1}};Yn.default=Kn});var ko=_(Qn=>{"use strict";Object.defineProperty(Qn,"__esModule",{value:!0});var dr=De(),_d=xo(),Zn=class{constructor(t,r){this._settings=t,this._micromatchOptions=r}getFilter(t,r,n){let s=this._getMatcher(r),a=this._getNegativePatternsRe(n);return i=>this._filter(t,i,s,a)}_getMatcher(t){return new _d.default(t,this._settings,this._micromatchOptions)}_getNegativePatternsRe(t){let r=t.filter(dr.pattern.isAffectDepthOfReadingPattern);return dr.pattern.convertPatternsToRe(r,this._micromatchOptions)}_filter(t,r,n,s){if(this._isSkippedByDeep(t,r.path)||this._isSkippedSymbolicLink(r))return!1;let a=dr.path.removeLeadingDotSegment(r.path);return this._isSkippedByPositivePatterns(a,n)?!1:this._isSkippedByNegativePatterns(a,s)}_isSkippedByDeep(t,r){return this._settings.deep===1/0?!1:this._getEntryLevel(t,r)>=this._settings.deep}_getEntryLevel(t,r){let n=r.split("/").length;if(t==="")return n;let s=t.split("/").length;return n-s}_isSkippedSymbolicLink(t){return!this._settings.followSymbolicLinks&&t.dirent.isSymbolicLink()}_isSkippedByPositivePatterns(t,r){return!this._settings.baseNameMatch&&!r.match(t)}_isSkippedByNegativePatterns(t,r){return!dr.pattern.matchAny(t,r)}};Qn.default=Zn});var Ro=_(Jn=>{"use strict";Object.defineProperty(Jn,"__esModule",{value:!0});var Ve=De(),Xn=class{constructor(t,r){this._settings=t,this._micromatchOptions=r,this.index=new Map}getFilter(t,r){let[n,s]=Ve.pattern.partitionAbsoluteAndRelative(r),a={positive:{all:Ve.pattern.convertPatternsToRe(t,this._micromatchOptions)},negative:{absolute:Ve.pattern.convertPatternsToRe(n,Object.assign(Object.assign({},this._micromatchOptions),{dot:!0})),relative:Ve.pattern.convertPatternsToRe(s,Object.assign(Object.assign({},this._micromatchOptions),{dot:!0}))}};return i=>this._filter(i,a)}_filter(t,r){let n=Ve.path.removeLeadingDotSegment(t.path);if(this._settings.unique&&this._isDuplicateEntry(n)||this._onlyFileFilter(t)||this._onlyDirectoryFilter(t))return!1;let s=this._isMatchToPatternsSet(n,r,t.dirent.isDirectory());return this._settings.unique&&s&&this._createIndexRecord(n),s}_isDuplicateEntry(t){return this.index.has(t)}_createIndexRecord(t){this.index.set(t,void 0)}_onlyFileFilter(t){return this._settings.onlyFiles&&!t.dirent.isFile()}_onlyDirectoryFilter(t){return this._settings.onlyDirectories&&!t.dirent.isDirectory()}_isMatchToPatternsSet(t,r,n){return!(!this._isMatchToPatterns(t,r.positive.all,n)||this._isMatchToPatterns(t,r.negative.relative,n)||this._isMatchToAbsoluteNegative(t,r.negative.absolute,n))}_isMatchToAbsoluteNegative(t,r,n){if(r.length===0)return!1;let s=Ve.path.makeAbsolute(this._settings.cwd,t);return this._isMatchToPatterns(s,r,n)}_isMatchToPatterns(t,r,n){if(r.length===0)return!1;let s=Ve.pattern.matchAny(t,r);return!s&&n?Ve.pattern.matchAny(t+"/",r):s}};Jn.default=Xn});var Po=_(ts=>{"use strict";Object.defineProperty(ts,"__esModule",{value:!0});var Sd=De(),es=class{constructor(t){this._settings=t}getFilter(){return t=>this._isNonFatalError(t)}_isNonFatalError(t){return Sd.errno.isEnoentCodeError(t)||this._settings.suppressErrors}};ts.default=es});var To=_(ns=>{"use strict";Object.defineProperty(ns,"__esModule",{value:!0});var Co=De(),rs=class{constructor(t){this._settings=t}getTransformer(){return t=>this._transform(t)}_transform(t){let r=t.path;return this._settings.absolute&&(r=Co.path.makeAbsolute(this._settings.cwd,r),r=Co.path.unixify(r)),this._settings.markDirectories&&t.dirent.isDirectory()&&(r+="/"),this._settings.objectMode?Object.assign(Object.assign({},t),{path:r}):r}};ns.default=rs});var hr=_(is=>{"use strict";Object.defineProperty(is,"__esModule",{value:!0});var wd=require("path"),$d=ko(),Ed=Ro(),Ad=Po(),vd=To(),ss=class{constructor(t){this._settings=t,this.errorFilter=new Ad.default(this._settings),this.entryFilter=new Ed.default(this._settings,this._getMicromatchOptions()),this.deepFilter=new $d.default(this._settings,this._getMicromatchOptions()),this.entryTransformer=new vd.default(this._settings)}_getRootDirectory(t){return wd.resolve(this._settings.cwd,t.base)}_getReaderOptions(t){let r=t.base==="."?"":t.base;return{basePath:r,pathSegmentSeparator:"/",concurrency:this._settings.concurrency,deepFilter:this.deepFilter.getFilter(r,t.positive,t.negative),entryFilter:this.entryFilter.getFilter(t.positive,t.negative),errorFilter:this.errorFilter.getFilter(),followSymbolicLinks:this._settings.followSymbolicLinks,fs:this._settings.fs,stats:this._settings.stats,throwErrorOnBrokenSymbolicLink:this._settings.throwErrorOnBrokenSymbolicLink,transform:this.entryTransformer.getTransformer()}}_getMicromatchOptions(){return{dot:this._settings.dot,matchBase:this._settings.baseNameMatch,nobrace:!this._settings.braceExpansion,nocase:!this._settings.caseSensitiveMatch,noext:!this._settings.extglob,noglobstar:!this._settings.globstar,posix:!0,strictSlashes:!1}}};is.default=ss});var Oo=_(os=>{"use strict";Object.defineProperty(os,"__esModule",{value:!0});var xd=Ao(),kd=hr(),as=class extends kd.default{constructor(){super(...arguments),this._reader=new xd.default(this._settings)}async read(t){let r=this._getRootDirectory(t),n=this._getReaderOptions(t);return(await this.api(r,t,n)).map(a=>n.transform(a))}api(t,r,n){return r.dynamic?this._reader.dynamic(t,n):this._reader.static(r.patterns,n)}};os.default=as});var Io=_(us=>{"use strict";Object.defineProperty(us,"__esModule",{value:!0});var Rd=require("stream"),Pd=qn(),Cd=hr(),cs=class extends Cd.default{constructor(){super(...arguments),this._reader=new Pd.default(this._settings)}read(t){let r=this._getRootDirectory(t),n=this._getReaderOptions(t),s=this.api(r,t,n),a=new Rd.Readable({objectMode:!0,read:()=>{}});return s.once("error",i=>a.emit("error",i)).on("data",i=>a.emit("data",n.transform(i))).once("end",()=>a.emit("end")),a.once("close",()=>s.destroy()),a}api(t,r,n){return r.dynamic?this._reader.dynamic(t,n):this._reader.static(r.patterns,n)}};us.default=cs});var Lo=_(fs=>{"use strict";Object.defineProperty(fs,"__esModule",{value:!0});var Td=Ze(),Od=lr(),Id=fr(),ls=class extends Id.default{constructor(){super(...arguments),this._walkSync=Od.walkSync,this._statSync=Td.statSync}dynamic(t,r){return this._walkSync(t,r)}static(t,r){let n=[];for(let s of t){let a=this._getFullEntryPath(s),i=this._getEntry(a,s,r);i===null||!r.entryFilter(i)||n.push(i)}return n}_getEntry(t,r,n){try{let s=this._getStat(t);return this._makeEntry(s,r)}catch(s){if(n.errorFilter(s))return null;throw s}}_getStat(t){return this._statSync(t,this._fsStatSettings)}};fs.default=ls});var Do=_(hs=>{"use strict";Object.defineProperty(hs,"__esModule",{value:!0});var Ld=Lo(),Dd=hr(),ds=class extends Dd.default{constructor(){super(...arguments),this._reader=new Ld.default(this._settings)}read(t){let r=this._getRootDirectory(t),n=this._getReaderOptions(t);return this.api(r,t,n).map(n.transform)}api(t,r,n){return r.dynamic?this._reader.dynamic(t,n):this._reader.static(r.patterns,n)}};hs.default=ds});var Mo=_(dt=>{"use strict";Object.defineProperty(dt,"__esModule",{value:!0});dt.DEFAULT_FILE_SYSTEM_ADAPTER=void 0;var ft=require("fs"),Md=require("os"),Nd=Math.max(Md.cpus().length,1);dt.DEFAULT_FILE_SYSTEM_ADAPTER={lstat:ft.lstat,lstatSync:ft.lstatSync,stat:ft.stat,statSync:ft.statSync,readdir:ft.readdir,readdirSync:ft.readdirSync};var ps=class{constructor(t={}){this._options=t,this.absolute=this._getValue(this._options.absolute,!1),this.baseNameMatch=this._getValue(this._options.baseNameMatch,!1),this.braceExpansion=this._getValue(this._options.braceExpansion,!0),this.caseSensitiveMatch=this._getValue(this._options.caseSensitiveMatch,!0),this.concurrency=this._getValue(this._options.concurrency,Nd),this.cwd=this._getValue(this._options.cwd,process.cwd()),this.deep=this._getValue(this._options.deep,1/0),this.dot=this._getValue(this._options.dot,!1),this.extglob=this._getValue(this._options.extglob,!0),this.followSymbolicLinks=this._getValue(this._options.followSymbolicLinks,!0),this.fs=this._getFileSystemMethods(this._options.fs),this.globstar=this._getValue(this._options.globstar,!0),this.ignore=this._getValue(this._options.ignore,[]),this.markDirectories=this._getValue(this._options.markDirectories,!1),this.objectMode=this._getValue(this._options.objectMode,!1),this.onlyDirectories=this._getValue(this._options.onlyDirectories,!1),this.onlyFiles=this._getValue(this._options.onlyFiles,!0),this.stats=this._getValue(this._options.stats,!1),this.suppressErrors=this._getValue(this._options.suppressErrors,!1),this.throwErrorOnBrokenSymbolicLink=this._getValue(this._options.throwErrorOnBrokenSymbolicLink,!1),this.unique=this._getValue(this._options.unique,!0),this.onlyDirectories&&(this.onlyFiles=!1),this.stats&&(this.objectMode=!0),this.ignore=[].concat(this.ignore)}_getValue(t,r){return t===void 0?r:t}_getFileSystemMethods(t={}){return Object.assign(Object.assign({},dt.DEFAULT_FILE_SYSTEM_ADAPTER),t)}};dt.default=ps});var Fo=_((kp,Uo)=>{"use strict";var No=Na(),Ud=Oo(),Fd=Io(),Hd=Do(),ms=Mo(),we=De();async function gs(e,t){Ee(e);let r=ys(e,Ud.default,t),n=await Promise.all(r);return we.array.flatten(n)}(function(e){e.glob=e,e.globSync=t,e.globStream=r,e.async=e;function t(f,u){Ee(f);let p=ys(f,Hd.default,u);return we.array.flatten(p)}e.sync=t;function r(f,u){Ee(f);let p=ys(f,Fd.default,u);return we.stream.merge(p)}e.stream=r;function n(f,u){Ee(f);let p=[].concat(f),l=new ms.default(u);return No.generate(p,l)}e.generateTasks=n;function s(f,u){Ee(f);let p=new ms.default(u);return we.pattern.isDynamicPattern(f,p)}e.isDynamicPattern=s;function a(f){return Ee(f),we.path.escape(f)}e.escapePath=a;function i(f){return Ee(f),we.path.convertPathToPattern(f)}e.convertPathToPattern=i;let o;(function(f){function u(l){return Ee(l),we.path.escapePosixPath(l)}f.escapePath=u;function p(l){return Ee(l),we.path.convertPosixPathToPattern(l)}f.convertPathToPattern=p})(o=e.posix||(e.posix={}));let c;(function(f){function u(l){return Ee(l),we.path.escapeWindowsPath(l)}f.escapePath=u;function p(l){return Ee(l),we.path.convertWindowsPathToPattern(l)}f.convertPathToPattern=p})(c=e.win32||(e.win32={}))})(gs||(gs={}));function ys(e,t,r){let n=[].concat(e),s=new ms.default(r),a=No.generate(n,s),i=new t(s);return a.map(i.read,i)}function Ee(e){if(![].concat(e).every(n=>we.string.isString(n)&&!we.string.isEmpty(n)))throw new TypeError("Patterns must be a string (non empty) or an array of strings")}Uo.exports=gs});var eh={};hc(eh,{default:()=>ic});module.exports=pc(eh);var sc=require("@raycast/api");var Q=require("@raycast/api");var M=Ne(require("react")),H=require("@raycast/api");var As=Object.prototype.hasOwnProperty;function Tt(e,t){var r,n;if(e===t)return!0;if(e&&t&&(r=e.constructor)===t.constructor){if(r===Date)return e.getTime()===t.getTime();if(r===RegExp)return e.toString()===t.toString();if(r===Array){if((n=e.length)===t.length)for(;n--&&Tt(e[n],t[n]););return n===-1}if(!r||typeof e=="object"){n=0;for(r in e)if(As.call(e,r)&&++n&&!As.call(t,r)||!(r in t)||!Tt(e[r],t[r]))return!1;return Object.keys(t).length===n}}return e!==e&&t!==t}var ze=Ne(require("node:fs")),It=Ne(require("node:path")),Os=Ne(require("node:crypto")),Is=Ne(require("node:child_process")),Ls=require("node:buffer"),rt=Ne(require("node:stream")),Ds=require("node:util");var Ms=require("react/jsx-runtime");var Er=globalThis;function mc(e){let t=(0,M.useRef)(e),r=(0,M.useRef)(0);return Tt(e,t.current)||(t.current=e,r.current+=1),(0,M.useMemo)(()=>t.current,[r.current])}function fe(e){let t=(0,M.useRef)(e);return t.current=e,t}function gc(e,t){let r=e instanceof Error?e.message:String(e);return(0,H.showToast)({style:H.Toast.Style.Failure,title:t?.title??"Something went wrong",message:t?.message??r,primaryAction:t?.primaryAction??vs(e),secondaryAction:t?.primaryAction?vs(e):void 0})}var vs=e=>{let t=!0,r="[Extension Name]...",n="";try{let i=JSON.parse((0,ze.readFileSync)((0,It.join)(H.environment.assetsPath,"..","package.json"),"utf8"));r=`[${i.title}]...`,n=`https://raycast.com/${i.owner||i.author}/${i.name}`,(!i.owner||i.access==="public")&&(t=!1)}catch{}let s=H.environment.isDevelopment||t,a=e instanceof Error?e?.stack||e?.message||"":String(e);return{title:s?"Copy Logs":"Report Error",onAction(i){i.hide(),s?H.Clipboard.copy(a):(0,H.open)(`https://github.com/raycast/extensions/issues/new?&labels=extension%2Cbug&template=extension_bug_report.yml&title=${encodeURIComponent(r)}&extension-url=${encodeURI(n)}&description=${encodeURIComponent(`#### Error:
\`\`\`
${a}
\`\`\`
`)}`)}}};function yc(e,t,r){let n=(0,M.useRef)(0),[s,a]=(0,M.useState)({isLoading:!0}),i=fe(e),o=fe(r?.abortable),c=fe(t||[]),f=fe(r?.onError),u=fe(r?.onData),p=fe(r?.onWillExecute),l=fe(r?.failureToastOptions),E=fe(s.data),y=(0,M.useRef)(null),g=(0,M.useRef)({page:0}),w=(0,M.useRef)(!1),R=(0,M.useRef)(!0),q=(0,M.useRef)(50),k=(0,M.useCallback)(()=>(o.current&&(o.current.current?.abort(),o.current.current=new AbortController),++n.current),[o]),C=(0,M.useCallback)((...m)=>{let P=k();p.current?.(m),a(d=>({...d,isLoading:!0}));let U=bc(i.current)(...m);function J(d){return d.name=="AbortError"||P===n.current&&(f.current?f.current(d):H.environment.launchType!==H.LaunchType.Background&&gc(d,{title:"Failed to fetch latest data",primaryAction:{title:"Retry",onAction(h){h.hide(),y.current?.(...c.current||[])}},...l.current}),a({error:d,isLoading:!1})),d}return typeof U=="function"?(w.current=!0,U(g.current).then(({data:d,hasMore:h,cursor:Y})=>(P===n.current&&(g.current&&(g.current.cursor=Y,g.current.lastItem=d?.[d.length-1]),u.current&&u.current(d,g.current),h&&(q.current=d.length),R.current=h,a(I=>g.current.page===0?{data:d,isLoading:!1}:{data:(I.data||[])?.concat(d),isLoading:!1})),d),d=>(R.current=!1,J(d)))):(w.current=!1,U.then(d=>(P===n.current&&(u.current&&u.current(d),a({data:d,isLoading:!1})),d),J))},[u,f,c,i,a,y,p,g,l,k]);y.current=C;let v=(0,M.useCallback)(()=>{g.current={page:0};let m=c.current||[];return C(...m)},[C,c]),N=(0,M.useCallback)(async(m,P)=>{let U;try{if(P?.optimisticUpdate){k(),typeof P?.rollbackOnError!="function"&&P?.rollbackOnError!==!1&&(U=structuredClone(E.current?.value));let J=P.optimisticUpdate;a(d=>({...d,data:J(d.data)}))}return await m}catch(J){if(typeof P?.rollbackOnError=="function"){let d=P.rollbackOnError;a(h=>({...h,data:d(h.data)}))}else P?.optimisticUpdate&&P?.rollbackOnError!==!1&&a(d=>({...d,data:U}));throw J}finally{P?.shouldRevalidateAfter!==!1&&(H.environment.launchType===H.LaunchType.Background||H.environment.commandMode==="menu-bar"?await v():v())}},[v,E,a,k]),x=(0,M.useCallback)(()=>{g.current.page+=1;let m=c.current||[];C(...m)},[g,c,C]);(0,M.useEffect)(()=>{g.current={page:0},r?.execute!==!1?C(...t||[]):k()},[mc([t,r?.execute,C]),o,g]),(0,M.useEffect)(()=>()=>{k()},[k]);let $=r?.execute!==!1?s.isLoading:!1,D={...s,isLoading:$},j=w.current?{pageSize:q.current,hasMore:R.current,onLoadMore:x}:void 0;return{...D,revalidate:v,mutate:N,pagination:j}}function bc(e){return e===Promise.all||e===Promise.race||e===Promise.resolve||e===Promise.reject?e.bind(Promise):e}function xs(e){return typeof e!="function"?!1:/^function\s+\w*\s*\(\s*\)\s*{\s+\[native code\]\s+}$/i.exec(Function.prototype.toString.call(e))!==null}function _c(e){return e instanceof URLSearchParams?e.toString():e}function Ns(e,t=[]){function r(n){return"update"in e?e.update(n,"utf8"):e.write(n)}return{dispatch:function(n){n=_c(n),n===null?this._null():this["_"+typeof n](n)},_object:function(n){let s=/\[object (.*)\]/i,a=Object.prototype.toString.call(n),i=s.exec(a)?.[1]??"unknown:["+a+"]";i=i.toLowerCase();let o=null;if((o=t.indexOf(n))>=0){this.dispatch("[CIRCULAR:"+o+"]");return}else t.push(n);if(Buffer.isBuffer(n))return r("buffer:"),r(n.toString("utf8"));if(i!=="object"&&i!=="function"&&i!=="asyncfunction")if(this["_"+i])this["_"+i](n);else throw new Error('Unknown object type "'+i+'"');else{let c=Object.keys(n);c=c.sort(),xs(n)||c.splice(0,0,"prototype","__proto__","constructor"),r("object:"+c.length+":");let f=this;return c.forEach(function(u){f.dispatch(u),r(":"),f.dispatch(n[u]),r(",")})}},_array:function(n,s){s=typeof s<"u"?s:!1;let a=this;if(r("array:"+n.length+":"),!s||n.length<=1){n.forEach(function(c){a.dispatch(c)});return}let i=[],o=n.map(function(c){let f=Sc(),u=t.slice();return Ns(f,u).dispatch(c),i=i.concat(u.slice(t.length)),f.read().toString()});t=t.concat(i),o.sort(),this._array(o,!1)},_date:function(n){r("date:"+n.toJSON())},_symbol:function(n){r("symbol:"+n.toString())},_error:function(n){r("error:"+n.toString())},_boolean:function(n){r("bool:"+n.toString())},_string:function(n){r("string:"+n.length+":"),r(n.toString())},_function:function(n){r("fn:"),xs(n)?this.dispatch("[native]"):this.dispatch(n.toString()),this.dispatch("function-name:"+String(n.name)),this._object(n)},_number:function(n){r("number:"+n.toString())},_xml:function(n){r("xml:"+n.toString())},_null:function(){r("Null")},_undefined:function(){r("Undefined")},_regexp:function(n){r("regex:"+n.toString())},_uint8array:function(n){r("uint8array:"),this.dispatch(Array.prototype.slice.call(n))},_uint8clampedarray:function(n){r("uint8clampedarray:"),this.dispatch(Array.prototype.slice.call(n))},_int8array:function(n){r("int8array:"),this.dispatch(Array.prototype.slice.call(n))},_uint16array:function(n){r("uint16array:"),this.dispatch(Array.prototype.slice.call(n))},_int16array:function(n){r("int16array:"),this.dispatch(Array.prototype.slice.call(n))},_uint32array:function(n){r("uint32array:"),this.dispatch(Array.prototype.slice.call(n))},_int32array:function(n){r("int32array:"),this.dispatch(Array.prototype.slice.call(n))},_float32array:function(n){r("float32array:"),this.dispatch(Array.prototype.slice.call(n))},_float64array:function(n){r("float64array:"),this.dispatch(Array.prototype.slice.call(n))},_arraybuffer:function(n){r("arraybuffer:"),this.dispatch(new Uint8Array(n))},_url:function(n){r("url:"+n.toString())},_map:function(n){r("map:");let s=Array.from(n);this._array(s,!0)},_set:function(n){r("set:");let s=Array.from(n);this._array(s,!0)},_file:function(n){r("file:"),this.dispatch([n.name,n.size,n.type,n.lastModified])},_blob:function(){throw Error(`Hashing Blob objects is currently not supported
(see https://github.com/puleos/object-hash/issues/26)
Use "options.replacer" or "options.ignoreUnknown"
`)},_domwindow:function(){r("domwindow")},_bigint:function(n){r("bigint:"+n.toString())},_process:function(){r("process")},_timer:function(){r("timer")},_pipe:function(){r("pipe")},_tcp:function(){r("tcp")},_udp:function(){r("udp")},_tty:function(){r("tty")},_statwatcher:function(){r("statwatcher")},_securecontext:function(){r("securecontext")},_connection:function(){r("connection")},_zlib:function(){r("zlib")},_context:function(){r("context")},_nodescript:function(){r("nodescript")},_httpparser:function(){r("httpparser")},_dataview:function(){r("dataview")},_signal:function(){r("signal")},_fsevent:function(){r("fsevent")},_tlswrap:function(){r("tlswrap")}}}function Sc(){return{buf:"",write:function(e){this.buf+=e},end:function(e){this.buf+=e},read:function(){return this.buf}}}function wc(e,t){let r=this[e];return r instanceof Date?`__raycast_cached_date__${r.toString()}`:Buffer.isBuffer(r)?`__raycast_cached_buffer__${r.toString("base64")}`:t}function $c(e,t){return typeof t=="string"&&t.startsWith("__raycast_cached_date__")?new Date(t.replace("__raycast_cached_date__","")):typeof t=="string"&&t.startsWith("__raycast_cached_buffer__")?Buffer.from(t.replace("__raycast_cached_buffer__",""),"base64"):t}function ks(e){let t=Os.default.createHash("sha1");return Ns(t).dispatch(e),t.digest("hex")}var Ec=Symbol("cache without namespace"),Rs=new Map;function bt(e,t,r){let n=r?.cacheNamespace||Ec,s=Rs.get(n)||Rs.set(n,new H.Cache({namespace:r?.cacheNamespace})).get(n);if(!s)throw new Error("Missing cache");let a=fe(e),i=fe(t),o=(0,M.useSyncExternalStore)(s.subscribe,()=>{try{return s.get(a.current)}catch(p){console.error("Could not get Cache data:",p);return}}),c=(0,M.useMemo)(()=>{if(typeof o<"u"){if(o==="undefined")return;try{return JSON.parse(o,$c)}catch(p){return console.warn("The cached data is corrupted",p),i.current}}else return i.current},[o,i]),f=fe(c),u=(0,M.useCallback)(p=>{let l=typeof p=="function"?p(f.current):p;if(typeof l>"u")s.set(a.current,"undefined");else{let E=JSON.stringify(l,wc);s.set(a.current,E)}return l},[s,a,f]);return[c,u]}var tt=Symbol();function Ac(e,t,r){let{initialData:n,keepPreviousData:s,internal_cacheKeySuffix:a,...i}=r||{},o=(0,M.useRef)(null),[c,f]=bt(ks(t||[])+a,tt,{cacheNamespace:ks(e)}),u=(0,M.useRef)(c!==tt?c:n),p=(0,M.useRef)(void 0),{mutate:l,revalidate:E,...y}=yc(e,t||[],{...i,onData(k,C){p.current=C,i.onData&&i.onData(k,C),!(C&&C.page>0)&&(o.current="promise",u.current=k,f(k))}}),g,w=y.pagination;p.current&&p.current.page>0&&y.data?g=y.data:o.current==="promise"?g=u.current:s&&c!==tt?(g=c,w&&(w.hasMore=!0,w.pageSize=c.length)):s&&c===tt?g=u.current:c!==tt?(g=c,w&&(w.hasMore=!0,w.pageSize=c.length)):g=n;let R=fe(g),q=(0,M.useCallback)(async(k,C)=>{let v;try{if(C?.optimisticUpdate){typeof C?.rollbackOnError!="function"&&C?.rollbackOnError!==!1&&(v=structuredClone(R.current));let N=C.optimisticUpdate(R.current);o.current="cache",u.current=N,f(N)}return await l(k,{shouldRevalidateAfter:C?.shouldRevalidateAfter})}catch(N){if(typeof C?.rollbackOnError=="function"){let x=C.rollbackOnError(R.current);o.current="cache",u.current=x,f(x)}else C?.optimisticUpdate&&C?.rollbackOnError!==!1&&(o.current="cache",u.current=v,f(v));throw N}},[f,l,R,u,o]);return(0,M.useEffect)(()=>{c!==tt&&(o.current="cache",u.current=c)},[c]),{data:g,isLoading:y.isLoading,error:y.error,mutate:p.current&&p.current.page>0?l:q,pagination:w,revalidate:E}}var Ot=e=>!!e&&typeof e=="object"&&typeof e.removeListener=="function"&&typeof e.emit=="function"&&typeof e.reallyExit=="function"&&typeof e.listeners=="function"&&typeof e.kill=="function"&&typeof e.pid=="number"&&typeof e.on=="function",Ar=Symbol.for("signal-exit emitter"),xr=class{constructor(){if(this.emitted={afterExit:!1,exit:!1},this.listeners={afterExit:[],exit:[]},this.count=0,this.id=Math.random(),Er[Ar])return Er[Ar];Object.defineProperty(Er,Ar,{value:this,writable:!1,enumerable:!1,configurable:!1})}on(t,r){this.listeners[t].push(r)}removeListener(t,r){let n=this.listeners[t],s=n.indexOf(r);s!==-1&&(s===0&&n.length===1?n.length=0:n.splice(s,1))}emit(t,r,n){if(this.emitted[t])return!1;this.emitted[t]=!0;let s=!1;for(let a of this.listeners[t])s=a(r,n)===!0||s;return t==="exit"&&(s=this.emit("afterExit",r,n)||s),s}},kr=class{onExit(){return()=>{}}load(){}unload(){}},Rr=class{#o;#t;#e;#i;#a;#s;#n;#r;constructor(t){this.#o=process.platform==="win32"?"SIGINT":"SIGHUP",this.#t=new xr,this.#s={},this.#n=!1,this.#r=[],this.#r.push("SIGHUP","SIGINT","SIGTERM"),globalThis.process.platform!=="win32"&&this.#r.push("SIGALRM","SIGABRT","SIGVTALRM","SIGXCPU","SIGXFSZ","SIGUSR2","SIGTRAP","SIGSYS","SIGQUIT","SIGIOT"),globalThis.process.platform==="linux"&&this.#r.push("SIGIO","SIGPOLL","SIGPWR","SIGSTKFLT"),this.#e=t,this.#s={};for(let r of this.#r)this.#s[r]=()=>{let n=this.#e.listeners(r),{count:s}=this.#t,a=t;if(typeof a.__signal_exit_emitter__=="object"&&typeof a.__signal_exit_emitter__.count=="number"&&(s+=a.__signal_exit_emitter__.count),n.length===s){this.unload();let i=this.#t.emit("exit",null,r),o=r==="SIGHUP"?this.#o:r;i||t.kill(t.pid,o)}};this.#a=t.reallyExit,this.#i=t.emit}onExit(t,r){if(!Ot(this.#e))return()=>{};this.#n===!1&&this.load();let n=r?.alwaysLast?"afterExit":"exit";return this.#t.on(n,t),()=>{this.#t.removeListener(n,t),this.#t.listeners.exit.length===0&&this.#t.listeners.afterExit.length===0&&this.unload()}}load(){if(!this.#n){this.#n=!0,this.#t.count+=1;for(let t of this.#r)try{let r=this.#s[t];r&&this.#e.on(t,r)}catch{}this.#e.emit=(t,...r)=>this.#u(t,...r),this.#e.reallyExit=t=>this.#c(t)}}unload(){this.#n&&(this.#n=!1,this.#r.forEach(t=>{let r=this.#s[t];if(!r)throw new Error("Listener not defined for signal: "+t);try{this.#e.removeListener(t,r)}catch{}}),this.#e.emit=this.#i,this.#e.reallyExit=this.#a,this.#t.count-=1)}#c(t){return Ot(this.#e)?(this.#e.exitCode=t||0,this.#t.emit("exit",this.#e.exitCode,null),this.#a.call(this.#e,this.#e.exitCode)):0}#u(t,...r){let n=this.#i;if(t==="exit"&&Ot(this.#e)){typeof r[0]=="number"&&(this.#e.exitCode=r[0]);let s=n.call(this.#e,t,...r);return this.#t.emit("exit",this.#e.exitCode,null),s}else return n.call(this.#e,t,...r)}},vr=null,vc=(e,t)=>(vr||(vr=Ot(process)?new Rr(process):new kr),vr.onExit(e,t));function xc(e,{timeout:t}={}){let r=new Promise((o,c)=>{e.on("exit",(f,u)=>{o({exitCode:f,signal:u,timedOut:!1})}),e.on("error",f=>{c(f)}),e.stdin&&e.stdin.on("error",f=>{c(f)})}),n=vc(()=>{e.kill()});if(t===0||t===void 0)return r.finally(()=>n());let s,a=new Promise((o,c)=>{s=setTimeout(()=>{e.kill("SIGTERM"),c(Object.assign(new Error("Timed out"),{timedOut:!0,signal:"SIGTERM"}))},t)}),i=r.finally(()=>{clearTimeout(s)});return Promise.race([a,i]).finally(()=>n())}var Pr=class extends Error{constructor(){super("The output is too big"),this.name="MaxBufferError"}};function kc(e){let{encoding:t}=e,r=t==="buffer",n=new rt.default.PassThrough({objectMode:!1});t&&t!=="buffer"&&n.setEncoding(t);let s=0,a=[];return n.on("data",i=>{a.push(i),s+=i.length}),n.getBufferedValue=()=>r?Buffer.concat(a,s):a.join(""),n.getBufferedLength=()=>s,n}async function Ps(e,t){let r=kc(t);return await new Promise((n,s)=>{let a=i=>{i&&r.getBufferedLength()<=Ls.constants.MAX_LENGTH&&(i.bufferedData=r.getBufferedValue()),s(i)};(async()=>{try{await(0,Ds.promisify)(rt.default.pipeline)(e,r),n()}catch(i){a(i)}})(),r.on("data",()=>{r.getBufferedLength()>8e7&&a(new Pr)})}),r.getBufferedValue()}async function Cs(e,t){e.destroy();try{return await t}catch(r){return r.bufferedData}}async function Rc({stdout:e,stderr:t},{encoding:r},n){let s=Ps(e,{encoding:r}),a=Ps(t,{encoding:r});try{return await Promise.all([n,s,a])}catch(i){return Promise.all([{error:i,exitCode:null,signal:i.signal,timedOut:i.timedOut||!1},Cs(e,s),Cs(t,a)])}}function Pc(e){let t=typeof e=="string"?`
`:10,r=typeof e=="string"?"\r":13;return e[e.length-1]===t&&(e=e.slice(0,-1)),e[e.length-1]===r&&(e=e.slice(0,-1)),e}function Ts(e,t){return e.stripFinalNewline?Pc(t):t}function Cc({timedOut:e,timeout:t,signal:r,exitCode:n}){return e?`timed out after ${t} milliseconds`:r!=null?`was killed with ${r}`:n!=null?`failed with exit code ${n}`:"failed"}function Tc({stdout:e,stderr:t,error:r,signal:n,exitCode:s,command:a,timedOut:i,options:o,parentError:c}){let u=`Command ${Cc({timedOut:i,timeout:o?.timeout,signal:n,exitCode:s})}: ${a}`,p=r?`${u}
${r.message}`:u,l=[p,t,e].filter(Boolean).join(`
`);return r?r.originalMessage=r.message:r=c,r.message=l,r.shortMessage=p,r.command=a,r.exitCode=s,r.signal=n,r.stdout=e,r.stderr=t,"bufferedData"in r&&delete r.bufferedData,r}function Oc({stdout:e,stderr:t,error:r,exitCode:n,signal:s,timedOut:a,command:i,options:o,parentError:c}){if(r||n!==0||s!==null)throw Tc({error:r,exitCode:n,signal:s,stdout:e,stderr:t,command:i,timedOut:a,options:o,parentError:c});return e}var Ic=/ +/g;function Lc(e,t){if(t)return[e,...t];let r=[];for(let n of e.trim().split(Ic)){let s=r[r.length-1];s&&s.endsWith("\\")?r[r.length-1]=`${s.slice(0,-1)} ${n}`:r.push(n)}return r}function Lt(e,t,r){let{parseOutput:n,input:s,onData:a,onWillExecute:i,initialData:o,execute:c,keepPreviousData:f,onError:u,failureToastOptions:p,...l}=Array.isArray(t)?r||{}:t||{},E={initialData:o,execute:c,keepPreviousData:f,onError:u,onData:a,onWillExecute:i,failureToastOptions:p},y=(0,M.useRef)(null),g=fe(n||Oc),w=(0,M.useCallback)(async(R,q,k,C)=>{let[v,...N]=Lc(R,q),x=[v,...N].join(" "),$={stripFinalNewline:!0,...k,timeout:k?.timeout||1e4,signal:y.current?.signal,encoding:k?.encoding===null?"buffer":k?.encoding||"utf8",env:{PATH:"/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin",...process.env,...k?.env}},D=Is.default.spawn(v,N,$),j=xc(D,$);C&&D.stdin.end(C);let[{error:m,exitCode:P,signal:U,timedOut:J},d,h]=await Rc(D,$,j),Y=Ts($,d),I=Ts($,h);return g.current({stdout:Y,stderr:I,error:m,exitCode:P,signal:U,timedOut:J,command:x,options:$,parentError:new Error})},[g]);return Ac(w,[e,Array.isArray(t)?t:[],l,s],{...E,abortable:y})}var Vo=Ne(require("crypto"));var it=require("@raycast/api");var F=require("@raycast/api"),Tr=require("node:child_process"),Us=require("child_process"),Or=require("fs");var Dt=(0,F.getPreferenceValues)(),ae=class extends Error{title;constructor(t,r){r||(r=t),super(r),this.title=t}},Cr=class extends ae{},Oe=class extends ae{},Mt=class extends ae{},nt=class extends ae{},ie=()=>{let e=[Dt.cliPath,"/usr/local/bin/op","/opt/homebrew/bin/op"].filter(Boolean).find(t=>t?(0,Or.existsSync)(t):!1);if(!e)throw new Oe("1Password CLI is not found. Please set the path in the extension preferences.");return e},st=[Dt.zshPath,"/bin/zsh"].find(e=>(0,Or.existsSync)(e)),Fs=new RegExp(/\[\w+\]\s+\d{4}\/\d{2}\/\d{2}\s+\d{2}:\d{2}:\d{2}\s+(.*)$/m);function Hs(e){if(e.category==="LOGIN")return e.urls?.find(t=>t.primary)?.href}function Bs(e){let t=["open-in-1password","open-in-browser","copy-username","copy-password","copy-one-time-password","paste-username","paste-password","paste-one-time-password","share-item","switch-account"],r=[...new Set([Dt.primaryAction,Dt.secondaryAction,...t])];switch(e.category){case"LOGIN":return r;case"PASSWORD":return r.filter(n=>n!=="copy-username"&&n!=="paste-username");default:return["open-in-1password"]}}function Ws(e){let t=ie();if(t)return(0,Us.execFileSync)(t,e,{maxBuffer:4194304}).toString();throw Error("1Password CLI is not found!")}var de=e=>{throw e.includes("no such host")?new nt("No connection to 1Password.","Verify Your Internet Connection."):e.includes("could not get item")||e.includes("isn't an item")?new Cr("Item not found on 1Password.","Check it on your 1Password app."):e.includes("ENOENT")||e.includes("file")||e.includes("enoent")?new Oe("1Password CLI not found."):e.includes("does not have a field")?new ae(`Item does not contain the field ${e.split("does not have a field ")[1].trim()}.`):new ae(e)},qs=()=>!!st,_t=e=>(0,Tr.execSync)(`${ie()} signin ${e||""}`,{shell:st}),Vs=()=>{try{return(0,Tr.execSync)(`${ie()} whoami`),!0}catch{return!1}},js=(e,t)=>Lt(ie(),[...e,"--format=json"],{parseOutput:({stdout:r,stderr:n,error:s,exitCode:a})=>(s&&de(s.message),n&&de(n),a!=0&&de(r),t?t(JSON.parse(r)):JSON.parse(r)),onError:async r=>{await(0,F.showToast)({style:F.Toast.Style.Failure,title:r.message})}}),Gs=({flags:e=[],account:t,execute:r=!0})=>Lt(ie(),["--account",t,"items","list","--long","--format=json",...e],{parseOutput:({stdout:n,stderr:s,error:a,exitCode:i})=>(a&&de(a.message),s&&de(s),i!=0&&de(n),JSON.parse(n).sort((c,f)=>c.favorite&&!f.favorite?-1:!c.favorite&&f.favorite?1:c.title.localeCompare(f.title))),execute:r,onError:async n=>{await(0,F.showToast)({style:F.Toast.Style.Failure,title:n.message})}});var zs=()=>js(["item","template","list"],e=>e.sort((t,r)=>t.name.localeCompare(r.name))),Ks=()=>js(["whoami"]),Nt=(e=!0)=>Lt(ie(),["account","list","--format=json"],{parseOutput:({stdout:t,stderr:r,error:n,exitCode:s})=>(n&&de(n.message),r&&de(r),s!=0&&de(t),JSON.parse(t)),onError:async t=>{await(0,F.showToast)({style:F.Toast.Style.Failure,title:t.message})},execute:e});function Ut(e){switch(e){case"API_CREDENTIAL":return F.Icon.Code;case"CREDIT_CARD":return F.Icon.CreditCard;case"CRYPTO_WALLET":return F.Icon.Crypto;case"BANK_ACCOUNT":case"CUSTOM":return F.Icon.Wallet;case"DATABASE":return F.Icon.HardDrive;case"DOCUMENT":return F.Icon.Document;case"DRIVER_LICENSE":return F.Icon.Car;case"EMAIL_ACCOUNT":return F.Icon.Envelope;case"IDENTITY":return F.Icon.Person;case"LOGIN":return F.Icon.Fingerprint;case"MEDICAL_RECORD":return F.Icon.Heartbeat;case"MEMBERSHIP":return F.Icon.StarCircle;case"OUTDOOR_LICENSE":return F.Icon.Tree;case"PASSPORT":return F.Icon.Globe;case"PASSWORD":return F.Icon.Key;case"REWARD_PROGRAM":return F.Icon.Gift;case"SECURE_NOTE":return F.Icon.Lock;case"SOCIAL_SECURITY_NUMBER":return F.Icon.Shield;case"SOFTWARE_LICENSE":return F.Icon.CodeBlock;case"SERVER":case"SSH_KEY":return F.Icon.Terminal;case"WIRELESS_ROUTER":return F.Icon.Wifi;default:return F.Icon.Key}}function Ir(e){return e&&e[0].toUpperCase()+e.slice(1).toLowerCase()}async function Ie(){let e=await(0,it.showToast)({style:it.Toast.Style.Animated,title:"Clearing cache..."});try{Ws(["signout","--all"]),e.style=it.Toast.Style.Success,e.title="Cleared cache"}catch(t){e.style=it.Toast.Style.Failure,e.title="Failed to clear cache",t instanceof Error&&(e.message=t.message)}}var ce=require("@raycast/api"),Ho=Ne(Fo()),Bo=require("os"),Wo=require("fs"),bs=new ce.Cache,_s="@items";function pr(){if(bs.has(_s)){let t=bs.get(_s);return JSON.parse(t)}let e=`${(0,Bo.homedir)()}/Library/Containers/com.agilebits.onepassword7/Data/Library/Caches/Metadata/1Password`;try{let r=Ho.default.sync(`${e}/**/*.onepassword-item-metadata`,{onlyFiles:!1,deep:2}).map(n=>JSON.parse((0,Wo.readFileSync)(n,"utf-8").toString())).sort((n,s)=>n.itemTitle.localeCompare(s.itemTitle)).reduce((n,s)=>{let{categoryUUID:a,categorySingularName:i}=s;return n[i]=n[i]??{id:a,name:i,items:[]},n[i].items.push(s),n},{});return bs.set(_s,JSON.stringify(r)),r}catch(t){console.error(t)}}function mr(e){switch(e){case"001":return ce.Icon.Fingerprint;case"002":return ce.Icon.CreditCard;case"003":return ce.Icon.Document;case"004":return ce.Icon.Person;case"005":return ce.Icon.Key;case"006":return ce.Icon.Paperclip;case"100":return ce.Icon.CodeBlock;case"102":return ce.Icon.HardDrive;case"103":return ce.Icon.Car;case"112":return ce.Icon.Code;default:return ce.Icon.Lock}}var Qe=require("@raycast/api");var ht=require("react/jsx-runtime"),gr="null";function qo({onCategoryChange:e}){let t=pr(),r=t&&Object.keys(t).sort((n,s)=>n.localeCompare(s));return(0,ht.jsx)(Qe.List.Dropdown,{defaultValue:"null",onChange:e,tooltip:"Select Category",storeValue:!0,children:(0,ht.jsxs)(Qe.List.Dropdown.Section,{title:"Item Categories",children:[(0,ht.jsx)(Qe.List.Dropdown.Item,{icon:Qe.Icon.AppWindowGrid3x3,title:"All Categories",value:gr},"000"),(r||[]).map((n,s)=>(0,ht.jsx)(Qe.List.Dropdown.Item,{icon:mr(n.replaceAll(" ","_").toUpperCase()),title:n,value:n},s))]})})}var me=require("react/jsx-runtime");function jo(){let[e,t]=bt("selected_category",gr),r=pr(),n=r&&e===gr?Object.values(r).sort((a,i)=>a.name.localeCompare(i.name)):r&&[r[e]];return(0,me.jsx)(Q.List,{searchBarAccessory:(0,me.jsx)(qo,{onCategoryChange:a=>{e!==a&&t(a)}}),children:n?.length?n.map(a=>(0,me.jsx)(Q.List.Section,{id:a.id,title:a.name,children:a.items.map(i=>(0,me.jsx)(Q.List.Item,{id:i.uuid,icon:{value:{source:mr(i.categorySingularName.replaceAll(" ","_").toUpperCase()),tintColor:Q.Color.Blue},tooltip:i.categorySingularName},title:i.itemTitle,subtitle:i.accountName,accessories:[{text:i.vaultName}],keywords:i.accountName?[i.accountName]:[],actions:(0,me.jsxs)(Q.ActionPanel,{children:[i.categoryUUID==="001"&&i.websiteURLs?.length&&(0,me.jsx)(Q.Action.Open,{icon:Q.Icon.Globe,title:"Open in Browser",target:`onepassword7://open_and_fill/${i.vaultUUID}/${i.uuid}/${Vo.default.createHash("sha256").update(i.websiteURLs[0]).digest("hex")}`,application:"com.agilebits.onepassword7"}),(0,me.jsx)(Q.Action.Open,{title:"Open in 1Password",target:`onepassword7://view/${i.vaultUUID}/${i.uuid}`,application:"com.agilebits.onepassword7"}),(0,me.jsx)(Q.Action.Open,{title:"Edit in 1Password",target:`onepassword7://edit/${i.vaultUUID}/${i.uuid}`,application:"com.agilebits.onepassword7",shortcut:{modifiers:["cmd"],key:"e"}}),(0,me.jsx)(Q.ActionPanel.Section,{children:(0,me.jsx)(Q.Action,{title:"Reset Cache",icon:Q.Icon.Trash,onAction:()=>Ie()})})]})},i.uuid))},a.id)):(0,me.jsx)(Q.List.EmptyView,{title:"No items found",description:"Any items you have added in 1Password app will be listed here."})})}var Te=require("react"),O=require("@raycast/api");var ge=require("@raycast/api");var Xe=require("react/jsx-runtime");function pt(){let e=ie();return(0,Xe.jsx)(ge.Detail,{markdown:`
${e?"":"# 1Password CLI Tool Not Configured or Installed Properly"}
${e?"":"# Zsh Shell Not Configured or Installed Properly"}

${e?"":`
-  Ensure that the 1Password CLI is installed on your system. You can download it from [official 1Password CLI website](https://developer.1password.com/docs/cli/get-started).
-  Check if the path to the 1Password CLI is correctly added to your system's environment variables.
-  Run \`op --version\` to verify that the 1Password CLI is correctly installed.
`}


${st?"":"\n-  Make sure that Zsh is installed by running `zsh --version` in your terminal.\n-  Review your `.zshrc` file for any incorrect configurations that might be causing issues.\n-  Review your extension preferences for the Zsh shell path.\n"}

### Need More Help?
If you continue to experience problems after following these steps, please reach out by opening an issue in our [Github](https://github.com/raycast/extensions/issues/new/choose)

We're here to help ensure a smooth setup process!

---`,actions:(0,Xe.jsxs)(ge.ActionPanel,{children:[(0,Xe.jsx)(ge.Action,{icon:ge.Icon.Gear,title:"Open Extension Preferences",onAction:ge.openExtensionPreferences}),(0,Xe.jsx)(ge.Action.Open,{title:"Open 1Password Settings",target:"onepassword://settings"}),(0,Xe.jsx)(ge.Action,{title:"Reset Cache",icon:ge.Icon.Trash,onAction:()=>Ie()})]})})}var re=require("@raycast/api"),Ss=require("path");var Je=require("react/jsx-runtime"),Bd=(0,Ss.join)(re.environment.assetsPath,"binary-instruction.png"),Wd=(0,Ss.join)(re.environment.assetsPath,"1password-settings.png"),qd=`
# You will need the following to run the extension

## \u2705 1Password CLI

### This extension utilizes the 1Password CLI tool. You can setup the tool by following their [official document](https://developer.1password.com/docs/cli/get-started/).

### In case there's an issue with the tool, check the following.
![Terminal Instruction](${Bd})

## \u2705 Enable Command-Line Interface (CLI)

### To turn on the app integration and set up 1Password to authenticate with biometrics:
![1Password Settings](${Wd})

1. Open [1Password](onepassword://settings).
2. Select the account or collection at the top of the sidebar and choose Preferences > Security.
3. Check [Touch ID](https://support.1password.com/touch-id-mac/).
4. Select Developer in the sidebar.
5. Check "Connect with 1Password CLI".

You can also unlock 1Password CLI with your [Apple Watch](https://support.1password.com/apple-watch-mac/).
`;function yr(){return(0,Je.jsx)(re.Detail,{markdown:qd,actions:(0,Je.jsxs)(re.ActionPanel,{children:[(0,Je.jsx)(re.Action,{icon:re.Icon.Gear,title:"Open Extension Preferences",onAction:re.openExtensionPreferences}),(0,Je.jsx)(re.Action.Open,{title:"Open 1Password Settings",target:"onepassword://settings"}),(0,Je.jsx)(re.Action,{title:"Reset Cache",icon:re.Icon.Trash,onAction:()=>Ie()})]})})}var ye=require("react/jsx-runtime"),Vd=(0,Te.createContext)(void 0),Go=({children:e})=>{try{ie()}catch{return(0,ye.jsx)(yr,{})}let[t,r]=(0,Te.useState)(Vs()),[n]=(0,Te.useState)(!qs()),[s,a]=(0,Te.useState)(!0),[i,o]=(0,Te.useState)(""),{data:c,error:f,isLoading:u}=Nt(!s),p=O.environment.raycastVersion.includes("alpha")?"raycastinternal://":"raycast://",l=async y=>{let g=await(0,O.showToast)({style:O.Toast.Style.Animated,title:"Signing in..."});try{_t(`--account ${y.account}`),r(!0),a(!0),g.style=O.Toast.Style.Success,g.title="Signed in"}catch(w){g.style=O.Toast.Style.Failure,g.title="Failed to sign in",w instanceof Error&&(g.message=w.message,g.primaryAction={title:"Copy logs",onAction:async R=>{await O.Clipboard.copy(w.message),R.hide()}})}},E=async()=>{await(0,O.closeMainWindow)({popToRootType:O.PopToRootType.Suspended});let y=await(0,O.showToast)({style:O.Toast.Style.Animated,title:"Authenticating..."});try{if(!st)throw new Mt("Zsh Binary Path Missing!");if(!ie())throw new Oe("1Password CLI is missing! Please install it before use.");_t(),r(!0),a(!0),y.style=O.Toast.Style.Success,y.title="Authenticated!";return}catch(g){if(!(g instanceof Error)){y.style=O.Toast.Style.Failure,y.title="Error Authenticating.",y.message=String(g);return}let w=g.message.match(Fs);if(w&&w[1]?o(w[1]):o(g.message),g.message.includes("multiple accounts found"))return a(!1);y.style=O.Toast.Style.Failure,y.title="Error Authenticating."}finally{await(0,O.open)(p)}};return(0,Te.useMemo)(async()=>{!t&&!n&&E()},[t]),s?n?(0,ye.jsx)(pt,{}):t?(0,ye.jsx)(Vd.Provider,{value:{isAuthenticated:t},children:e}):(0,ye.jsx)(O.List,{children:(0,ye.jsx)(O.List.EmptyView,{title:"Authentication Required",description:i||"Please authenticate using the requested method to proceed.",icon:O.Icon.Key,actions:(0,ye.jsx)(O.ActionPanel,{children:(0,ye.jsx)(O.Action,{title:"Reload",icon:O.Icon.Repeat,onAction:()=>E()},"reload-view")})})}):(0,ye.jsx)(O.Form,{isLoading:u,actions:(0,ye.jsx)(O.ActionPanel,{children:(0,ye.jsx)(O.Action.SubmitForm,{title:"Sign in",icon:O.Icon.Key,onSubmit:l})}),children:(0,ye.jsx)(O.Form.Dropdown,{id:"account",title:"Account",autoFocus:!0,children:(c&&!f?c:[]).map(y=>(0,ye.jsx)(O.Form.Dropdown.Item,{title:`${y.url} - ${y.email}`,value:y.account_uuid},y.account_uuid))})})};var be=require("@raycast/api");var Sr=require("react");var mt=require("@raycast/api");var gt=require("react/jsx-runtime"),vt="null";function zo({onCategoryChange:e}){let{data:t,error:r,isLoading:n}=zs();return r?(0,gt.jsx)(pt,{}):(0,gt.jsxs)(mt.List.Dropdown,{defaultValue:vt,isLoading:n,onChange:e,tooltip:"Select Category",storeValue:!0,children:[(0,gt.jsx)(mt.List.Dropdown.Item,{icon:mt.Icon.AppWindowGrid3x3,title:"All Categories",value:vt},"000"),(t||[]).map(s=>(0,gt.jsx)(mt.List.Dropdown.Item,{icon:Ut(s.name.replaceAll(" ","_").toUpperCase()),title:s.name,value:s.name},s.uuid))]})}var Me=require("@raycast/api");var K=require("@raycast/api"),ws=require("child_process");var Ko=require("@raycast/api"),br=require("react");function Yo(e=!1){let[t,r]=(0,br.useState)({});return(0,br.useEffect)(()=>{if(!e)return;(async()=>{try{let s=await(0,Ko.getFrontmostApplication)();r({name:s.name,icon:s.path?{fileIcon:s.path}:void 0})}catch{r({})}})()},[e]),t}var Zo=require("react/jsx-runtime");function et({id:e,vault_id:t,shortcut:r,field:n="password",attribute:s,isPasteAction:a}){let i=ie(),o=Yo(!!a);return(0,Zo.jsx)(K.Action,{icon:a?o.icon??K.Icon.Text:K.Icon.Clipboard,title:a?`Paste ${Ir(n)}${o.name?` to ${o.name}`:""}`:`Copy ${Ir(n)}`,shortcut:r,onAction:async()=>{let c=await(0,K.showToast)({style:K.Toast.Style.Animated,title:a?`Pasting ${n}${o.name?` to ${o.name}`:""}...`:`Copying ${n}...`});try{let f;if(s==="otp")f=(0,ws.execFileSync)(i,["item","get",e,"--otp"]);else{let p=s?`?attribute=${s}`:"",l=`op://${t}/${e}/${n}${p}`;f=(0,ws.execFileSync)(i,["read",l])}let u=f.toString().trim();a?(await K.Clipboard.paste(u),c.style=K.Toast.Style.Success,c.title=`Pasted ${n}${o.name?` to ${o.name}`:""}`,await(0,K.showHUD)(`Pasted ${n}${o.name?` to ${o.name}`:""}`)):(await K.Clipboard.copy(u,{concealed:!0}),c.style=K.Toast.Style.Success,c.title="Copied to clipboard",await(0,K.showHUD)(`Copied ${n} to clipboard`))}catch(f){if(c.style=K.Toast.Style.Failure,c.title=`Failed to ${a?"paste":"copy"}`,f instanceof Error||f instanceof ae)try{de(f.message)}catch(u){u instanceof ae?(u.title!=u.message&&(c.message=u.message),c.title=u.title,c.primaryAction={title:"Copy logs",onAction:async p=>{await K.Clipboard.copy(u.message),p.hide()}}):u instanceof Error&&(c.title=u.message,c.primaryAction={title:"Copy logs",onAction:async p=>{await K.Clipboard.copy(u.message),p.hide()}})}}}})}var ne=require("@raycast/api"),Qo=require("child_process");var Jo=require("react/jsx-runtime");function Xo({id:e,title:t,shortcut:r}){return(0,Jo.jsx)(ne.Action,{icon:ne.Icon.Link,title:"Share Item",shortcut:r,onAction:async()=>{let n=await(0,ne.showToast)({style:ne.Toast.Style.Animated,title:`Sharing ${t}...`});try{let s=(0,Qo.execFileSync)(ie(),["item","share",e]);await ne.Clipboard.copy(s.toString().trim(),{concealed:!0}),n.style=ne.Toast.Style.Success,n.title="Copied to clipboard",await(0,ne.showHUD)("Copied sharing link to clipboard")}catch(s){if(n.style=ne.Toast.Style.Failure,n.title="Failed to copy",s instanceof Error||s instanceof ae)try{de(s.message)}catch(a){a instanceof ae?(a.title!=a.message&&(n.message=a.message),n.title=a.title,n.primaryAction={title:"Copy logs",onAction:async i=>{await ne.Clipboard.copy(a.message),i.hide()}}):a instanceof Error&&(n.title=a.message,n.primaryAction={title:"Copy logs",onAction:async i=>{await ne.Clipboard.copy(a.message),i.hide()}})}}}})}var yt=require("@raycast/api");var X=require("@raycast/api");var ec=require("react"),je=require("react/jsx-runtime");function tc({reset:e=!1}){let[t,r]=(0,ec.useState)(!1),{data:n,error:s,isLoading:a}=Nt();return s?(0,je.jsx)(yr,{}):!e||t?(0,je.jsx)(_r,{}):(0,je.jsx)(X.Form,{isLoading:a,actions:(0,je.jsx)(X.ActionPanel,{children:(0,je.jsx)(X.Action.SubmitForm,{title:"Sign in",icon:X.Icon.Key,onSubmit:async i=>{let o=await(0,X.showToast)({style:X.Toast.Style.Animated,title:"Signing in..."});try{_t(`--account ${i.account}`),r(!0),o.style=X.Toast.Style.Success,o.title="Signed in"}catch(c){o.style=X.Toast.Style.Failure,o.title="Failed to sign in",c instanceof Error&&(o.message=c.message,o.primaryAction={title:"Copy logs",onAction:async f=>{await X.Clipboard.copy(c.message),f.hide()}})}}})}),children:(0,je.jsx)(X.Form.Dropdown,{id:"account",title:"Account",autoFocus:!0,children:(n||[]).map(i=>(0,je.jsx)(X.Form.Dropdown.Item,{title:`${i.url} - ${i.email}`,value:i.account_uuid},i.account_uuid))})})}var $s=require("react/jsx-runtime");function rc(){let{push:e}=(0,yt.useNavigation)();return(0,$s.jsx)(yt.Action,{title:"Switch Account",icon:yt.Icon.Switch,onAction:()=>e((0,$s.jsx)(tc,{reset:!0}))},"switch-account")}var ue=require("react/jsx-runtime");function nc({account:e,item:t,actions:r}){return(0,ue.jsxs)(Me.ActionPanel,{children:[r.map(n=>{switch(n){case"open-in-1password":return jd(e,t);case"open-in-browser":return Gd(t);case"copy-username":return zd(t);case"copy-password":return Kd(t);case"copy-one-time-password":return Yd(t);case"paste-username":return Zd(t);case"paste-password":return Qd(t);case"paste-one-time-password":return Xd(t);case"share-item":return Jd(t)}}),(0,ue.jsxs)(Me.ActionPanel.Section,{children:[rc(),(0,ue.jsx)(Me.Action,{title:"Reset Cache",icon:Me.Icon.Trash,onAction:()=>Ie()})]})]})}function jd(e,t){return e?(0,ue.jsx)(Me.Action.Open,{title:"Open in 1Password",target:`onepassword://view-item/?a=${e.account_uuid}&v=${t.vault.id}&i=${t.id}`,application:"com.1password.1password",shortcut:{modifiers:["cmd","shift"],key:"o"}},"open-in-1password"):null}function Gd(e){let t=Hs(e);return t?(0,ue.jsx)(Me.Action.OpenInBrowser,{title:"Open in Browser",url:t,shortcut:{modifiers:["opt"],key:"return"}},"open-in-browser"):null}function zd(e){return(0,ue.jsx)(et,{id:e.id,vault_id:e.vault.id,field:"username",shortcut:{modifiers:["cmd","shift"],key:"c"}},"copy-username")}function Kd(e){return(0,ue.jsx)(et,{id:e.id,vault_id:e.vault.id,field:"password",shortcut:{modifiers:["cmd","opt"],key:"c"}},"copy-password")}function Yd(e){return(0,ue.jsx)(et,{id:e.id,vault_id:e.vault.id,field:"one-time password",attribute:"otp",shortcut:{modifiers:["cmd","ctrl"],key:"c"}},"copy-one-time-password")}function Zd(e){return(0,ue.jsx)(et,{id:e.id,vault_id:e.vault.id,field:"username",shortcut:{modifiers:["cmd","shift"],key:"v"},isPasteAction:!0},"paste-username")}function Qd(e){return(0,ue.jsx)(et,{id:e.id,vault_id:e.vault.id,field:"password",shortcut:{modifiers:["cmd","opt"],key:"v"},isPasteAction:!0},"paste-password")}function Xd(e){return(0,ue.jsx)(et,{id:e.id,vault_id:e.vault.id,field:"one-time password",attribute:"otp",shortcut:{modifiers:["cmd","ctrl"],key:"v"},isPasteAction:!0},"paste-one-time-password")}function Jd(e){return(0,ue.jsx)(Xo,{id:e.id,title:e.title,shortcut:{modifiers:["cmd","shift"],key:"s"}},"share-item")}var Ae=require("react/jsx-runtime");function _r({flags:e}){let[t,r]=bt("selected_category",vt),[n,s]=(0,Sr.useState)([]),{data:a,error:i,isLoading:o}=Ks(),{data:c,error:f,isLoading:u}=Gs({flags:e,account:a?.account_uuid??"",execute:!i&&!o});(0,Sr.useMemo)(()=>{if(c){if(t===vt)return s(c);s(c?.filter(l=>l.category===t.replaceAll(" ","_").toUpperCase()))}},[c,t]);let p=l=>{t!==l&&r(l)};return f instanceof Oe||i instanceof Oe?(0,Ae.jsx)(pt,{}):f instanceof nt||i instanceof nt?(0,Ae.jsx)(be.List,{children:(0,Ae.jsx)(be.List.EmptyView,{title:f?.title||i?.title,description:f?.message||i?.message,icon:be.Icon.WifiDisabled})}):(0,Ae.jsxs)(be.List,{searchBarAccessory:(0,Ae.jsx)(zo,{onCategoryChange:p}),isLoading:u||o,children:[(0,Ae.jsx)(be.List.EmptyView,{title:"No items found",icon:"1password-noview.png",description:"Any items you have added in 1Password app will be listed here."}),(0,Ae.jsx)(be.List.Section,{title:"Items",subtitle:`${n?.length}`,children:n?.length?n.map(l=>(0,Ae.jsx)(be.List.Item,{id:l.id,icon:{value:{source:Ut(l.category),tintColor:be.Color.Blue},tooltip:l.category},title:l.title,subtitle:l.additional_information,accessories:[l?.favorite?{icon:{source:be.Icon.Stars,tintColor:be.Color.Yellow},tooltip:"Favorite item"}:{},{text:l.vault?.name}],keywords:l.additional_information?[l.additional_information]:[],actions:(0,Ae.jsx)(nc,{account:a,item:l,actions:Bs(l)})},l.id)):null})]})}var wr=require("react/jsx-runtime");function ic(){return(0,sc.getPreferenceValues)().version=="v8"?(0,wr.jsx)(Go,{children:(0,wr.jsx)(_r,{})}):(0,wr.jsx)(jo,{})}
/*! Bundled license information:

is-extglob/index.js:
  (*!
   * is-extglob <https://github.com/jonschlinkert/is-extglob>
   *
   * Copyright (c) 2014-2016, Jon Schlinkert.
   * Licensed under the MIT License.
   *)

is-glob/index.js:
  (*!
   * is-glob <https://github.com/jonschlinkert/is-glob>
   *
   * Copyright (c) 2014-2017, Jon Schlinkert.
   * Released under the MIT License.
   *)

is-number/index.js:
  (*!
   * is-number <https://github.com/jonschlinkert/is-number>
   *
   * Copyright (c) 2014-present, Jon Schlinkert.
   * Released under the MIT License.
   *)

to-regex-range/index.js:
  (*!
   * to-regex-range <https://github.com/micromatch/to-regex-range>
   *
   * Copyright (c) 2015-present, Jon Schlinkert.
   * Released under the MIT License.
   *)

fill-range/index.js:
  (*!
   * fill-range <https://github.com/jonschlinkert/fill-range>
   *
   * Copyright (c) 2014-present, Jon Schlinkert.
   * Licensed under the MIT License.
   *)

queue-microtask/index.js:
  (*! queue-microtask. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)

run-parallel/index.js:
  (*! run-parallel. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)
*/
